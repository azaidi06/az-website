<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ali Zaidi">
<meta name="dcterms.date" content="2024-02-02">
<meta name="description" content="Interactive analysis of how top 25 ATP/WTA players perform against different quality opponents">

<title>Opponent Quality Analysis – Ali Zaidi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-59898bd1c6b9d2bb783127feaa000c76.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d329e753491efaeac79c98c4b193a686.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-59898bd1c6b9d2bb783127feaa000c76.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-ac290716a9ac6015de64222ecc2296ad.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-9ccec12e75040a7b2e6f2e8a12f431ba.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-ac290716a9ac6015de64222ecc2296ad.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Opponent Quality Analysis – Ali Zaidi">
<meta property="og:description" content="Interactive analysis of how top 25 ATP/WTA players perform against different quality opponents">
<meta property="og:image" content="https://azaidi06.github.io/posts/opponent-quality/opponent-quality.png">
<meta property="og:site_name" content="Ali Zaidi">
<meta property="og:image:height" content="900">
<meta property="og:image:width" content="1500">
<meta name="twitter:title" content="Opponent Quality Analysis – Ali Zaidi">
<meta name="twitter:description" content="Interactive analysis of how top 25 ATP/WTA players perform against different quality opponents">
<meta name="twitter:image" content="https://azaidi06.github.io/posts/opponent-quality/opponent-quality.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="900">
<meta name="twitter:image-width" content="1500">
</head>

<body class="nav-fixed fullcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Ali Zaidi</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../resume.html"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/azaidi06"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/azaidi06"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/azaidi06"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Opponent Quality Analysis</h1>
                  <div>
        <div class="description">
          Interactive analysis of how top 25 ATP/WTA players perform against different quality opponents
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">tennis</div>
                <div class="quarto-category">analytics</div>
                <div class="quarto-category">interactive</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Ali Zaidi </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 2, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">






<section id="opponent-quality-analysis-dashboard" class="level1">
<h1>Opponent Quality Analysis Dashboard</h1>
<p>How do elite players perform against different levels of competition? This analysis explores win rates, performance trends, and head-to-head records against opponents categorized by ranking tier.</p>
<p><strong>Opponent Tiers:</strong> - <strong>Elite (Top 10)</strong>: The absolute best in the world - <strong>Strong (11-25)</strong>: Consistent top performers - <strong>Solid (26-50)</strong>: Quality tour players - <strong>Mid-tier (51-100)</strong>: Competitive professionals - <strong>Lower (100+)</strong>: Developing or lower-ranked players</p>
<div id="cell-2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-3" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>atp_matches <span class="op">=</span> pd.read_csv(<span class="st">'../../data/top25/atp/atp_top25_matches.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>wta_matches <span class="op">=</span> pd.read_csv(<span class="st">'../../data/top25/wta/wta_top25_matches.csv'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>atp_players <span class="op">=</span> pd.read_csv(<span class="st">'../../data/top25/atp/atp_top25_players.csv'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>wta_players <span class="op">=</span> pd.read_csv(<span class="st">'../../data/top25/wta/wta_top25_players.csv'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create player name lookup</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>atp_player_names <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(atp_players[<span class="st">'player_id'</span>], </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                            atp_players[<span class="st">'name_first'</span>] <span class="op">+</span> <span class="st">' '</span> <span class="op">+</span> atp_players[<span class="st">'name_last'</span>]))</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>wta_player_names <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(wta_players[<span class="st">'player_id'</span>], </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                            wta_players[<span class="st">'name_first'</span>] <span class="op">+</span> <span class="st">' '</span> <span class="op">+</span> wta_players[<span class="st">'name_last'</span>]))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add tour identifier</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>atp_matches[<span class="st">'tour'</span>] <span class="op">=</span> <span class="st">'ATP'</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>wta_matches[<span class="st">'tour'</span>] <span class="op">=</span> <span class="st">'WTA'</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"ATP matches: </span><span class="sc">{</span><span class="bu">len</span>(atp_matches)<span class="sc">:,}</span><span class="ss">"</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"WTA matches: </span><span class="sc">{</span><span class="bu">len</span>(wta_matches)<span class="sc">:,}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>ATP matches: 8,904
WTA matches: 7,293</code></pre>
</div>
</div>
<div id="cell-4" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> categorize_opponent_tier(rank):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Categorize opponent based on their ranking at match time"""</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> pd.isna(rank):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Unknown'</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    rank <span class="op">=</span> <span class="bu">int</span>(rank)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> rank <span class="op">&lt;=</span> <span class="dv">10</span>:</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Elite (1-10)'</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> rank <span class="op">&lt;=</span> <span class="dv">25</span>:</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Strong (11-25)'</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> rank <span class="op">&lt;=</span> <span class="dv">50</span>:</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Solid (26-50)'</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> rank <span class="op">&lt;=</span> <span class="dv">100</span>:</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Mid-tier (51-100)'</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Lower (100+)'</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> process_matches(matches_df, player_ids, player_names):</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Process matches to create player-centric view with opponent tiers"""</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    records <span class="op">=</span> []</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> matches_df.iterrows():</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        winner_id <span class="op">=</span> row[<span class="st">'winner_id'</span>]</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        loser_id <span class="op">=</span> row[<span class="st">'loser_id'</span>]</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If winner is in our top 25</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> winner_id <span class="kw">in</span> player_ids:</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>            records.append({</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_id'</span>: winner_id,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_name'</span>: player_names.get(winner_id, row[<span class="st">'winner_name'</span>]),</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_id'</span>: loser_id,</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_name'</span>: row[<span class="st">'loser_name'</span>],</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_rank'</span>: row[<span class="st">'loser_rank'</span>],</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_tier'</span>: categorize_opponent_tier(row[<span class="st">'loser_rank'</span>]),</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                <span class="st">'won'</span>: <span class="dv">1</span>,</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                <span class="st">'surface'</span>: row[<span class="st">'surface'</span>],</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_level'</span>: row[<span class="st">'tourney_level'</span>],</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_name'</span>: row[<span class="st">'tourney_name'</span>],</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_date'</span>: row[<span class="st">'tourney_date'</span>],</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>                <span class="st">'round'</span>: row[<span class="st">'round'</span>],</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_rank'</span>: row[<span class="st">'winner_rank'</span>],</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tour'</span>: row[<span class="st">'tour'</span>]</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>        <span class="co"># If loser is in our top 25</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> loser_id <span class="kw">in</span> player_ids:</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>            records.append({</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_id'</span>: loser_id,</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_name'</span>: player_names.get(loser_id, row[<span class="st">'loser_name'</span>]),</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_id'</span>: winner_id,</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_name'</span>: row[<span class="st">'winner_name'</span>],</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_rank'</span>: row[<span class="st">'winner_rank'</span>],</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>                <span class="st">'opponent_tier'</span>: categorize_opponent_tier(row[<span class="st">'winner_rank'</span>]),</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>                <span class="st">'won'</span>: <span class="dv">0</span>,</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>                <span class="st">'surface'</span>: row[<span class="st">'surface'</span>],</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_level'</span>: row[<span class="st">'tourney_level'</span>],</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_name'</span>: row[<span class="st">'tourney_name'</span>],</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tourney_date'</span>: row[<span class="st">'tourney_date'</span>],</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>                <span class="st">'round'</span>: row[<span class="st">'round'</span>],</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>                <span class="st">'player_rank'</span>: row[<span class="st">'loser_rank'</span>],</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>                <span class="st">'tour'</span>: row[<span class="st">'tour'</span>]</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>            })</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.DataFrame(records)</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Process both tours</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>atp_player_ids <span class="op">=</span> <span class="bu">set</span>(atp_players[<span class="st">'player_id'</span>])</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>wta_player_ids <span class="op">=</span> <span class="bu">set</span>(wta_players[<span class="st">'player_id'</span>])</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>atp_records <span class="op">=</span> process_matches(atp_matches, atp_player_ids, atp_player_names)</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>wta_records <span class="op">=</span> process_matches(wta_matches, wta_player_ids, wta_player_names)</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Parse dates</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>atp_records[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(atp_records[<span class="st">'tourney_date'</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'%Y%m</span><span class="sc">%d</span><span class="st">'</span>)</span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>wta_records[<span class="st">'date'</span>] <span class="op">=</span> pd.to_datetime(wta_records[<span class="st">'tourney_date'</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'%Y%m</span><span class="sc">%d</span><span class="st">'</span>)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>all_records <span class="op">=</span> pd.concat([atp_records, wta_records], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"ATP player match records: </span><span class="sc">{</span><span class="bu">len</span>(atp_records)<span class="sc">:,}</span><span class="ss">"</span>)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"WTA player match records: </span><span class="sc">{</span><span class="bu">len</span>(wta_records)<span class="sc">:,}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>ATP player match records: 10,091
WTA player match records: 8,136</code></pre>
</div>
</div>
<section id="view-1-win-rate-by-opponent-tier-heatmap" class="level2">
<h2 class="anchored" data-anchor-id="view-1-win-rate-by-opponent-tier-heatmap">View 1: Win Rate by Opponent Tier Heatmap</h2>
<p>This heatmap shows each player’s win percentage against different tiers of opponents. Darker colors indicate higher win rates. Numbers in cells show match counts for context.</p>
<div id="cell-6" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_tier_heatmap(records_df, title, min_matches<span class="op">=</span><span class="dv">5</span>):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create a heatmap of win rates by opponent tier"""</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter out unknown tiers</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df[records_df[<span class="st">'opponent_tier'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>].copy()</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate win rates by player and tier</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    tier_stats <span class="op">=</span> df.groupby([<span class="st">'player_name'</span>, <span class="st">'opponent_tier'</span>]).agg(</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    tier_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> (tier_stats[<span class="st">'wins'</span>] <span class="op">/</span> tier_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get overall win rate for sorting</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    overall <span class="op">=</span> df.groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        total_wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        total_matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    overall[<span class="st">'overall_win_pct'</span>] <span class="op">=</span> overall[<span class="st">'total_wins'</span>] <span class="op">/</span> overall[<span class="st">'total_matches'</span>]</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pivot for heatmap</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    tier_order <span class="op">=</span> [<span class="st">'Elite (1-10)'</span>, <span class="st">'Strong (11-25)'</span>, <span class="st">'Solid (26-50)'</span>, <span class="st">'Mid-tier (51-100)'</span>, <span class="st">'Lower (100+)'</span>]</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    pivot_pct <span class="op">=</span> tier_stats.pivot(index<span class="op">=</span><span class="st">'player_name'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'win_pct'</span>)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> tier_stats.pivot(index<span class="op">=</span><span class="st">'player_name'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'matches'</span>)</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reorder columns</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    pivot_pct <span class="op">=</span> pivot_pct[[c <span class="cf">for</span> c <span class="kw">in</span> tier_order <span class="cf">if</span> c <span class="kw">in</span> pivot_pct.columns]]</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> pivot_matches[[c <span class="cf">for</span> c <span class="kw">in</span> tier_order <span class="cf">if</span> c <span class="kw">in</span> pivot_matches.columns]]</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort by overall win rate</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    player_order <span class="op">=</span> overall.sort_values(<span class="st">'overall_win_pct'</span>, ascending<span class="op">=</span><span class="va">True</span>)[<span class="st">'player_name'</span>].tolist()</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    pivot_pct <span class="op">=</span> pivot_pct.reindex([p <span class="cf">for</span> p <span class="kw">in</span> player_order <span class="cf">if</span> p <span class="kw">in</span> pivot_pct.index])</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> pivot_matches.reindex([p <span class="cf">for</span> p <span class="kw">in</span> player_order <span class="cf">if</span> p <span class="kw">in</span> pivot_matches.index])</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create annotations with match counts</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    annotations <span class="op">=</span> []</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, player <span class="kw">in</span> <span class="bu">enumerate</span>(pivot_pct.index):</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j, tier <span class="kw">in</span> <span class="bu">enumerate</span>(pivot_pct.columns):</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>            pct <span class="op">=</span> pivot_pct.loc[player, tier]</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>            matches <span class="op">=</span> pivot_matches.loc[player, tier]</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.notna(pct) <span class="kw">and</span> pd.notna(matches) <span class="kw">and</span> matches <span class="op">&gt;=</span> min_matches:</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>pct<span class="sc">:.0f}</span><span class="ss">%&lt;br&gt;(</span><span class="sc">{</span><span class="bu">int</span>(matches)<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> pd.notna(matches) <span class="kw">and</span> matches <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="ss">f"(</span><span class="sc">{</span><span class="bu">int</span>(matches)<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="st">""</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>            annotations.append(</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>                <span class="bu">dict</span>(</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>                    x<span class="op">=</span>tier, y<span class="op">=</span>player,</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>                    text<span class="op">=</span>text,</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>                    showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>                    font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">9</span>, color<span class="op">=</span><span class="st">'white'</span> <span class="cf">if</span> (pd.notna(pct) <span class="kw">and</span> pct <span class="op">&gt;</span> <span class="dv">60</span>) <span class="cf">else</span> <span class="st">'black'</span>)</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Mask cells with too few matches</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    masked_pct <span class="op">=</span> pivot_pct.copy()</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    masked_pct[pivot_matches <span class="op">&lt;</span> min_matches] <span class="op">=</span> np.nan</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>masked_pct.values,</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>masked_pct.columns.tolist(),</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>masked_pct.index.tolist(),</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span><span class="st">'RdYlGn'</span>,</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>        colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Win %'</span>, ticksuffix<span class="op">=</span><span class="st">'%'</span>),</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">'Player: %</span><span class="sc">{y}</span><span class="st">&lt;br&gt;Tier: %</span><span class="sc">{x}</span><span class="st">&lt;br&gt;Win Rate: %</span><span class="sc">{z:.1f}</span><span class="st">%&lt;extra&gt;&lt;/extra&gt;'</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="bu">dict</span>(text<span class="op">=</span>title, font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">16</span>)),</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>        xaxis_title<span class="op">=</span><span class="st">'Opponent Tier'</span>,</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>        yaxis_title<span class="op">=</span><span class="st">'Player'</span>,</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">700</span>,</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>        annotations<span class="op">=</span>annotations</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Create heatmaps for both tours</span></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>fig_atp <span class="op">=</span> create_tier_heatmap(atp_records, <span class="st">'ATP: Win Rate by Opponent Tier'</span>)</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>fig_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.1.1.min"</script>
        
</div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="e25375bc-be0c-42f1-a545-d1d3c6789dd3" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e25375bc-be0c-42f1-a545-d1d3c6789dd3")) {                    Plotly.newPlot(                        "e25375bc-be0c-42f1-a545-d1d3c6789dd3",                        [{"colorbar":{"ticksuffix":"%","title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"hovertemplate":"Player: %{y}\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{z:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Alexei Popyrin","Tomas Machac","Alejandro Tabilo","Frances Tiafoe","Ugo Humbert","Lorenzo Musetti","Ben Shelton","Arthur Fils","Karen Khachanov","Sebastian Korda","Tommy Paul","Taylor Fritz","Jack Draper","Hubert Hurkacz","Grigor Dimitrov","Alex De Minaur","Holger Rune","Casper Ruud","Andrey Rublev","Stefanos Tsitsipas","Alexander Zverev","Daniil Medvedev","Jannik Sinner","Carlos Alcaraz","Novak Djokovic"],"z":{"dtype":"f8","bdata":"AAAAAADAQkDNzMzMzEw7QGZmZmZm5kFAzczMzMxMRkBmZmZmZiZNQAAAAAAAgDdAAAAAAACAQUDNzMzMzKxQQM3MzMzMTFFAZmZmZmamSkAAAAAAAAAkQAAAAAAAADRAAAAAAABAS0DNzMzMzIxMQM3MzMzMLFNAAAAAAAAAOkDNzMzMzIxCQAAAAAAAgEpAMzMzMzPzTkCamZmZmRlQQDMzMzMzc0dAmpmZmZmZR0DNzMzMzExGQM3MzMzMDE1AzczMzMxMUUDNzMzMzEw8QGZmZmZmZktAzczMzMzMS0CamZmZmRlOQJqZmZmZ+VBAmpmZmZkZOkCamZmZmdlEQAAAAAAAwE5AmpmZmZkZUECamZmZmRlSQJqZmZmZGUdAzczMzMyMTEAAAAAAAMBGQDMzMzMzs05AMzMzMzNzTkAzMzMzMzM2QDMzMzMzs0VAZmZmZmamTEBmZmZmZoZRQGZmZmZmhlRAAAAAAAAAPkCamZmZmRlKQM3MzMzMjE1AzczMzMxMUUBmZmZmZgZQQJqZmZmZmTxAmpmZmZlZR0DNzMzMzMxMQDMzMzMzk1BAmpmZmZnZUkBmZmZmZmZDQDMzMzMzs0lAzczMzMyMTUDNzMzMzIxQQM3MzMzMrFJAAAAAAAAAPkAAAAAAAMBGQDMzMzMz809AmpmZmZmZU0AAAAAAAMBSQAAAAAAAAEFAmpmZmZnZREAAAAAAAABQQAAAAAAAAFFAmpmZmZm5VEAzMzMzMzNAQM3MzMzMjElAZmZmZmYGUUAzMzMzM\u002fNRQJqZmZmZOVNAzczMzMxMOUAzMzMzMzNLQJqZmZmZGVJAMzMzMzMzUUCamZmZmTlTQM3MzMzMDEVAAAAAAADARkBmZmZmZkZRQAAAAAAAQFFAAAAAAAAgUkCamZmZmdlBQAAAAAAAQEtAMzMzMzPTUUAAAAAAAOBQQM3MzMzMjFNAmpmZmZnZQkAzMzMzM\u002fNJQM3MzMzMjFBAzczMzMzMUkCamZmZmdlTQGZmZmZm5kNAZmZmZmYGUUAAAAAAAMBRQAAAAAAAoFJAmpmZmZlZVEAAAAAAAMBFQJqZmZmZeVBAmpmZmZlZU0CamZmZmTlTQAAAAAAAoFVAAAAAAACASECamZmZmRlQQDMzMzMzc1JAZmZmZmZmVUBmZmZmZkZUQAAAAAAAQE9AmpmZmZnZUkDNzMzMzKxTQGZmZmZmhlVAzczMzMxMVUBmZmZmZiZRQGZmZmZmplNAzczMzMxsVUCamZmZmflUQM3MzMzMbFVAmpmZmZk5UUCamZmZmZlUQJqZmZmZeVZAmpmZmZl5V0DNzMzMzMxWQA==","shape":"25, 5"},"zmax":100,"zmin":0,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"font":{"size":16},"text":"ATP: Win Rate by Opponent Tier"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Player"}},"height":700,"annotations":[{"font":{"color":"black","size":9},"showarrow":false,"text":"38%\u003cbr\u003e(32)","x":"Elite (1-10)","y":"Alexei Popyrin"},{"font":{"color":"black","size":9},"showarrow":false,"text":"27%\u003cbr\u003e(33)","x":"Strong (11-25)","y":"Alexei Popyrin"},{"font":{"color":"black","size":9},"showarrow":false,"text":"36%\u003cbr\u003e(53)","x":"Solid (26-50)","y":"Alexei Popyrin"},{"font":{"color":"black","size":9},"showarrow":false,"text":"45%\u003cbr\u003e(74)","x":"Mid-tier (51-100)","y":"Alexei Popyrin"},{"font":{"color":"black","size":9},"showarrow":false,"text":"58%\u003cbr\u003e(36)","x":"Lower (100+)","y":"Alexei Popyrin"},{"font":{"color":"black","size":9},"showarrow":false,"text":"24%\u003cbr\u003e(17)","x":"Elite (1-10)","y":"Tomas Machac"},{"font":{"color":"black","size":9},"showarrow":false,"text":"35%\u003cbr\u003e(20)","x":"Strong (11-25)","y":"Tomas Machac"},{"font":{"color":"white","size":9},"showarrow":false,"text":"67%\u003cbr\u003e(18)","x":"Solid (26-50)","y":"Tomas Machac"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(26)","x":"Mid-tier (51-100)","y":"Tomas Machac"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(30)","x":"Lower (100+)","y":"Tomas Machac"},{"font":{"color":"black","size":9},"showarrow":false,"text":"10%\u003cbr\u003e(10)","x":"Elite (1-10)","y":"Alejandro Tabilo"},{"font":{"color":"black","size":9},"showarrow":false,"text":"20%\u003cbr\u003e(20)","x":"Strong (11-25)","y":"Alejandro Tabilo"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(22)","x":"Solid (26-50)","y":"Alejandro Tabilo"},{"font":{"color":"black","size":9},"showarrow":false,"text":"57%\u003cbr\u003e(49)","x":"Mid-tier (51-100)","y":"Alejandro Tabilo"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(30)","x":"Lower (100+)","y":"Alejandro Tabilo"},{"font":{"color":"black","size":9},"showarrow":false,"text":"26%\u003cbr\u003e(50)","x":"Elite (1-10)","y":"Frances Tiafoe"},{"font":{"color":"black","size":9},"showarrow":false,"text":"37%\u003cbr\u003e(62)","x":"Strong (11-25)","y":"Frances Tiafoe"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(83)","x":"Solid (26-50)","y":"Frances Tiafoe"},{"font":{"color":"white","size":9},"showarrow":false,"text":"62%\u003cbr\u003e(139)","x":"Mid-tier (51-100)","y":"Frances Tiafoe"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(87)","x":"Lower (100+)","y":"Frances Tiafoe"},{"font":{"color":"black","size":9},"showarrow":false,"text":"47%\u003cbr\u003e(32)","x":"Elite (1-10)","y":"Ugo Humbert"},{"font":{"color":"black","size":9},"showarrow":false,"text":"47%\u003cbr\u003e(53)","x":"Strong (11-25)","y":"Ugo Humbert"},{"font":{"color":"black","size":9},"showarrow":false,"text":"45%\u003cbr\u003e(65)","x":"Solid (26-50)","y":"Ugo Humbert"},{"font":{"color":"black","size":9},"showarrow":false,"text":"58%\u003cbr\u003e(86)","x":"Mid-tier (51-100)","y":"Ugo Humbert"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(52)","x":"Lower (100+)","y":"Ugo Humbert"},{"font":{"color":"black","size":9},"showarrow":false,"text":"28%\u003cbr\u003e(46)","x":"Elite (1-10)","y":"Lorenzo Musetti"},{"font":{"color":"black","size":9},"showarrow":false,"text":"55%\u003cbr\u003e(42)","x":"Strong (11-25)","y":"Lorenzo Musetti"},{"font":{"color":"black","size":9},"showarrow":false,"text":"56%\u003cbr\u003e(54)","x":"Solid (26-50)","y":"Lorenzo Musetti"},{"font":{"color":"white","size":9},"showarrow":false,"text":"60%\u003cbr\u003e(83)","x":"Mid-tier (51-100)","y":"Lorenzo Musetti"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(53)","x":"Lower (100+)","y":"Lorenzo Musetti"},{"font":{"color":"black","size":9},"showarrow":false,"text":"26%\u003cbr\u003e(23)","x":"Elite (1-10)","y":"Ben Shelton"},{"font":{"color":"black","size":9},"showarrow":false,"text":"42%\u003cbr\u003e(24)","x":"Strong (11-25)","y":"Ben Shelton"},{"font":{"color":"white","size":9},"showarrow":false,"text":"62%\u003cbr\u003e(26)","x":"Solid (26-50)","y":"Ben Shelton"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(45)","x":"Mid-tier (51-100)","y":"Ben Shelton"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(29)","x":"Lower (100+)","y":"Ben Shelton"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(13)","x":"Elite (1-10)","y":"Arthur Fils"},{"font":{"color":"black","size":9},"showarrow":false,"text":"57%\u003cbr\u003e(21)","x":"Strong (11-25)","y":"Arthur Fils"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(22)","x":"Solid (26-50)","y":"Arthur Fils"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(44)","x":"Mid-tier (51-100)","y":"Arthur Fils"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(23)","x":"Lower (100+)","y":"Arthur Fils"},{"font":{"color":"black","size":9},"showarrow":false,"text":"22%\u003cbr\u003e(72)","x":"Elite (1-10)","y":"Karen Khachanov"},{"font":{"color":"black","size":9},"showarrow":false,"text":"43%\u003cbr\u003e(83)","x":"Strong (11-25)","y":"Karen Khachanov"},{"font":{"color":"black","size":9},"showarrow":false,"text":"57%\u003cbr\u003e(124)","x":"Solid (26-50)","y":"Karen Khachanov"},{"font":{"color":"white","size":9},"showarrow":false,"text":"70%\u003cbr\u003e(147)","x":"Mid-tier (51-100)","y":"Karen Khachanov"},{"font":{"color":"white","size":9},"showarrow":false,"text":"82%\u003cbr\u003e(78)","x":"Lower (100+)","y":"Karen Khachanov"},{"font":{"color":"black","size":9},"showarrow":false,"text":"30%\u003cbr\u003e(30)","x":"Elite (1-10)","y":"Sebastian Korda"},{"font":{"color":"black","size":9},"showarrow":false,"text":"52%\u003cbr\u003e(46)","x":"Strong (11-25)","y":"Sebastian Korda"},{"font":{"color":"black","size":9},"showarrow":false,"text":"59%\u003cbr\u003e(44)","x":"Solid (26-50)","y":"Sebastian Korda"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(65)","x":"Mid-tier (51-100)","y":"Sebastian Korda"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(39)","x":"Lower (100+)","y":"Sebastian Korda"},{"font":{"color":"black","size":9},"showarrow":false,"text":"29%\u003cbr\u003e(42)","x":"Elite (1-10)","y":"Tommy Paul"},{"font":{"color":"black","size":9},"showarrow":false,"text":"47%\u003cbr\u003e(60)","x":"Strong (11-25)","y":"Tommy Paul"},{"font":{"color":"black","size":9},"showarrow":false,"text":"58%\u003cbr\u003e(59)","x":"Solid (26-50)","y":"Tommy Paul"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(95)","x":"Mid-tier (51-100)","y":"Tommy Paul"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(65)","x":"Lower (100+)","y":"Tommy Paul"},{"font":{"color":"black","size":9},"showarrow":false,"text":"39%\u003cbr\u003e(80)","x":"Elite (1-10)","y":"Taylor Fritz"},{"font":{"color":"black","size":9},"showarrow":false,"text":"51%\u003cbr\u003e(70)","x":"Strong (11-25)","y":"Taylor Fritz"},{"font":{"color":"black","size":9},"showarrow":false,"text":"59%\u003cbr\u003e(110)","x":"Solid (26-50)","y":"Taylor Fritz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(148)","x":"Mid-tier (51-100)","y":"Taylor Fritz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(87)","x":"Lower (100+)","y":"Taylor Fritz"},{"font":{"color":"black","size":9},"showarrow":false,"text":"30%\u003cbr\u003e(20)","x":"Elite (1-10)","y":"Jack Draper"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(33)","x":"Strong (11-25)","y":"Jack Draper"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(36)","x":"Solid (26-50)","y":"Jack Draper"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(37)","x":"Mid-tier (51-100)","y":"Jack Draper"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(20)","x":"Lower (100+)","y":"Jack Draper"},{"font":{"color":"black","size":9},"showarrow":false,"text":"34%\u003cbr\u003e(50)","x":"Elite (1-10)","y":"Hubert Hurkacz"},{"font":{"color":"black","size":9},"showarrow":false,"text":"42%\u003cbr\u003e(60)","x":"Strong (11-25)","y":"Hubert Hurkacz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(89)","x":"Solid (26-50)","y":"Hubert Hurkacz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(103)","x":"Mid-tier (51-100)","y":"Hubert Hurkacz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"83%\u003cbr\u003e(70)","x":"Lower (100+)","y":"Hubert Hurkacz"},{"font":{"color":"black","size":9},"showarrow":false,"text":"32%\u003cbr\u003e(136)","x":"Elite (1-10)","y":"Grigor Dimitrov"},{"font":{"color":"black","size":9},"showarrow":false,"text":"51%\u003cbr\u003e(133)","x":"Strong (11-25)","y":"Grigor Dimitrov"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(185)","x":"Solid (26-50)","y":"Grigor Dimitrov"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(202)","x":"Mid-tier (51-100)","y":"Grigor Dimitrov"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(121)","x":"Lower (100+)","y":"Grigor Dimitrov"},{"font":{"color":"black","size":9},"showarrow":false,"text":"25%\u003cbr\u003e(79)","x":"Elite (1-10)","y":"Alex De Minaur"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(57)","x":"Strong (11-25)","y":"Alex De Minaur"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(116)","x":"Solid (26-50)","y":"Alex De Minaur"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(125)","x":"Mid-tier (51-100)","y":"Alex De Minaur"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(65)","x":"Lower (100+)","y":"Alex De Minaur"},{"font":{"color":"black","size":9},"showarrow":false,"text":"42%\u003cbr\u003e(38)","x":"Elite (1-10)","y":"Holger Rune"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(33)","x":"Strong (11-25)","y":"Holger Rune"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(55)","x":"Solid (26-50)","y":"Holger Rune"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(71)","x":"Mid-tier (51-100)","y":"Holger Rune"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(51)","x":"Lower (100+)","y":"Holger Rune"},{"font":{"color":"black","size":9},"showarrow":false,"text":"36%\u003cbr\u003e(56)","x":"Elite (1-10)","y":"Casper Ruud"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(66)","x":"Strong (11-25)","y":"Casper Ruud"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(101)","x":"Solid (26-50)","y":"Casper Ruud"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(117)","x":"Mid-tier (51-100)","y":"Casper Ruud"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(78)","x":"Lower (100+)","y":"Casper Ruud"},{"font":{"color":"black","size":9},"showarrow":false,"text":"38%\u003cbr\u003e(69)","x":"Elite (1-10)","y":"Andrey Rublev"},{"font":{"color":"black","size":9},"showarrow":false,"text":"52%\u003cbr\u003e(81)","x":"Strong (11-25)","y":"Andrey Rublev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(157)","x":"Solid (26-50)","y":"Andrey Rublev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(165)","x":"Mid-tier (51-100)","y":"Andrey Rublev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"79%\u003cbr\u003e(68)","x":"Lower (100+)","y":"Andrey Rublev"},{"font":{"color":"black","size":9},"showarrow":false,"text":"40%\u003cbr\u003e(93)","x":"Elite (1-10)","y":"Stefanos Tsitsipas"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(94)","x":"Strong (11-25)","y":"Stefanos Tsitsipas"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(131)","x":"Solid (26-50)","y":"Stefanos Tsitsipas"},{"font":{"color":"white","size":9},"showarrow":false,"text":"74%\u003cbr\u003e(145)","x":"Mid-tier (51-100)","y":"Stefanos Tsitsipas"},{"font":{"color":"white","size":9},"showarrow":false,"text":"81%\u003cbr\u003e(70)","x":"Lower (100+)","y":"Stefanos Tsitsipas"},{"font":{"color":"black","size":9},"showarrow":false,"text":"44%\u003cbr\u003e(131)","x":"Elite (1-10)","y":"Alexander Zverev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(123)","x":"Strong (11-25)","y":"Alexander Zverev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(164)","x":"Solid (26-50)","y":"Alexander Zverev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(173)","x":"Mid-tier (51-100)","y":"Alexander Zverev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(96)","x":"Lower (100+)","y":"Alexander Zverev"},{"font":{"color":"black","size":9},"showarrow":false,"text":"49%\u003cbr\u003e(100)","x":"Elite (1-10)","y":"Daniil Medvedev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(104)","x":"Strong (11-25)","y":"Daniil Medvedev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"74%\u003cbr\u003e(149)","x":"Solid (26-50)","y":"Daniil Medvedev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(132)","x":"Mid-tier (51-100)","y":"Daniil Medvedev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"81%\u003cbr\u003e(74)","x":"Lower (100+)","y":"Daniil Medvedev"},{"font":{"color":"white","size":9},"showarrow":false,"text":"62%\u003cbr\u003e(88)","x":"Elite (1-10)","y":"Jannik Sinner"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(61)","x":"Strong (11-25)","y":"Jannik Sinner"},{"font":{"color":"white","size":9},"showarrow":false,"text":"79%\u003cbr\u003e(75)","x":"Solid (26-50)","y":"Jannik Sinner"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(101)","x":"Mid-tier (51-100)","y":"Jannik Sinner"},{"font":{"color":"white","size":9},"showarrow":false,"text":"85%\u003cbr\u003e(54)","x":"Lower (100+)","y":"Jannik Sinner"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(70)","x":"Elite (1-10)","y":"Carlos Alcaraz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"79%\u003cbr\u003e(56)","x":"Strong (11-25)","y":"Carlos Alcaraz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(70)","x":"Solid (26-50)","y":"Carlos Alcaraz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"84%\u003cbr\u003e(56)","x":"Mid-tier (51-100)","y":"Carlos Alcaraz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(42)","x":"Lower (100+)","y":"Carlos Alcaraz"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(386)","x":"Elite (1-10)","y":"Novak Djokovic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"82%\u003cbr\u003e(256)","x":"Strong (11-25)","y":"Novak Djokovic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"90%\u003cbr\u003e(317)","x":"Solid (26-50)","y":"Novak Djokovic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"94%\u003cbr\u003e(263)","x":"Mid-tier (51-100)","y":"Novak Djokovic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"91%\u003cbr\u003e(160)","x":"Lower (100+)","y":"Novak Djokovic"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e25375bc-be0c-42f1-a545-d1d3c6789dd3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-7" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>fig_wta <span class="op">=</span> create_tier_heatmap(wta_records, <span class="st">'WTA: Win Rate by Opponent Tier'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fig_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="afeb82dc-d7c7-4af5-8b42-278771244c67" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("afeb82dc-d7c7-4af5-8b42-278771244c67")) {                    Plotly.newPlot(                        "afeb82dc-d7c7-4af5-8b42-278771244c67",                        [{"colorbar":{"ticksuffix":"%","title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"hovertemplate":"Player: %{y}\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{z:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Magdalena Frech","Anna Kalinskaya","Donna Vekic","Jasmine Paolini","Marta Kostyuk","Katie Boulter","Beatriz Haddad Maia","Emma Navarro","Jelena Ostapenko","Daria Kasatkina","Danielle Collins","Barbora Krejcikova","Madison Keys","Paula Badosa","Karolina Muchova","Diana Shnaider","Qinwen Zheng","Elina Svitolina","Mirra Andreeva","Jessica Pegula","Victoria Azarenka","Elena Rybakina","Coco Gauff","Aryna Sabalenka","Iga Swiatek"],"z":{"dtype":"f8","bdata":"MzMzMzMzFUAzMzMzM7MwQJqZmZmZmT5AAAAAAABASkBmZmZmZmZOQGZmZmZm5kZAMzMzMzMzQEBmZmZmZuZGQM3MzMzMLFBAZmZmZmYmS0DNzMzMzMw6QDMzMzMzMz9AzczMzMxMSkAAAAAAAIBOQAAAAAAAYFFAzczMzMxMO0AAAAAAAEBEQJqZmZmZWUpAmpmZmZmZTUCamZmZmdlRQGZmZmZmpkBAzczMzMzMO0AAAAAAAIBOQAAAAAAAwE9AAAAAAADAUkCamZmZmRk1QM3MzMzMDEVAAAAAAAAASUCamZmZmZlNQM3MzMzMzFFAAAAAAAAASEBmZmZmZiZDQJqZmZmZGUtAAAAAAADATUCamZmZmZlRQDMzMzMzMz9AZmZmZmamSkDNzMzMzAxIQJqZmZmZeVBAAAAAAADAUUCamZmZmRlDQAAAAAAAAElAzczMzMxMTEDNzMzMzMxPQGZmZmZmRlFAzczMzMxMQkDNzMzMzIxGQJqZmZmZWU9AAAAAAAAAUUCamZmZmblTQGZmZmZmpkBAAAAAAAAASUCamZmZmVlLQGZmZmZm5lBAAAAAAABgVUAAAAAAAEBEQDMzMzMzc0RAAAAAAABAUUBmZmZmZuZQQDMzMzMzc1JAMzMzMzPzQUCamZmZmRlMQAAAAAAAAE9AZmZmZmZmUUAAAAAAAMBSQM3MzMzMjEFAZmZmZmamSkAAAAAAAEBRQM3MzMzM7FJAZmZmZmamT0AAAAAAAMBDQAAAAAAAQEtAZmZmZmYGUUDNzMzMzAxSQDMzMzMz81FAAAAAAAAAJEAAAAAAAABOQM3MzMzMzEpAmpmZmZkZUkAzMzMzM7NUQJqZmZmZWUJAMzMzMzPzS0AAAAAAAMBNQGZmZmZmhlRAMzMzMzMzVEBmZmZmZuZFQAAAAAAAQElAmpmZmZnZTUDNzMzMzIxTQM3MzMzMTFRAzczMzMzMPkDNzMzMzKxQQAAAAAAAwE5AZmZmZmaGU0AAAAAAAMBSQAAAAAAAgEZAzczMzMwMS0AzMzMzM3NTQM3MzMzMjFJAmpmZmZlZU0DNzMzMzExHQDMzMzMzc09AzczMzMwsUkDNzMzMzIxUQJqZmZmZeVRAzczMzMzMSkBmZmZmZqZOQGZmZmZmpk5AMzMzMzPzU0DNzMzMzIxWQAAAAAAAwEdAAAAAAAAASUAAAAAAAMBRQDMzMzMzc1ZAzczMzMysVkAzMzMzM7NKQM3MzMzMLFJAmpmZmZnZUUCamZmZmRlTQDMzMzMzU1VAzczMzMxsUEBmZmZmZqZSQGZmZmZmZlNAMzMzMzOzVkAAAAAAAKBXQA==","shape":"25, 5"},"zmax":100,"zmin":0,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"font":{"size":16},"text":"WTA: Win Rate by Opponent Tier"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Player"}},"height":700,"annotations":[{"font":{"color":"black","size":9},"showarrow":false,"text":"5%\u003cbr\u003e(19)","x":"Elite (1-10)","y":"Magdalena Frech"},{"font":{"color":"black","size":9},"showarrow":false,"text":"17%\u003cbr\u003e(24)","x":"Strong (11-25)","y":"Magdalena Frech"},{"font":{"color":"black","size":9},"showarrow":false,"text":"31%\u003cbr\u003e(36)","x":"Solid (26-50)","y":"Magdalena Frech"},{"font":{"color":"black","size":9},"showarrow":false,"text":"52%\u003cbr\u003e(40)","x":"Mid-tier (51-100)","y":"Magdalena Frech"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(51)","x":"Lower (100+)","y":"Magdalena Frech"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(24)","x":"Elite (1-10)","y":"Anna Kalinskaya"},{"font":{"color":"black","size":9},"showarrow":false,"text":"32%\u003cbr\u003e(34)","x":"Strong (11-25)","y":"Anna Kalinskaya"},{"font":{"color":"black","size":9},"showarrow":false,"text":"46%\u003cbr\u003e(48)","x":"Solid (26-50)","y":"Anna Kalinskaya"},{"font":{"color":"white","size":9},"showarrow":false,"text":"65%\u003cbr\u003e(51)","x":"Mid-tier (51-100)","y":"Anna Kalinskaya"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(46)","x":"Lower (100+)","y":"Anna Kalinskaya"},{"font":{"color":"black","size":9},"showarrow":false,"text":"27%\u003cbr\u003e(56)","x":"Elite (1-10)","y":"Donna Vekic"},{"font":{"color":"black","size":9},"showarrow":false,"text":"31%\u003cbr\u003e(64)","x":"Strong (11-25)","y":"Donna Vekic"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(95)","x":"Solid (26-50)","y":"Donna Vekic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(141)","x":"Mid-tier (51-100)","y":"Donna Vekic"},{"font":{"color":"white","size":9},"showarrow":false,"text":"70%\u003cbr\u003e(105)","x":"Lower (100+)","y":"Donna Vekic"},{"font":{"color":"black","size":9},"showarrow":false,"text":"27%\u003cbr\u003e(33)","x":"Elite (1-10)","y":"Jasmine Paolini"},{"font":{"color":"black","size":9},"showarrow":false,"text":"40%\u003cbr\u003e(42)","x":"Strong (11-25)","y":"Jasmine Paolini"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(55)","x":"Solid (26-50)","y":"Jasmine Paolini"},{"font":{"color":"black","size":9},"showarrow":false,"text":"59%\u003cbr\u003e(71)","x":"Mid-tier (51-100)","y":"Jasmine Paolini"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(63)","x":"Lower (100+)","y":"Jasmine Paolini"},{"font":{"color":"black","size":9},"showarrow":false,"text":"33%\u003cbr\u003e(33)","x":"Elite (1-10)","y":"Marta Kostyuk"},{"font":{"color":"black","size":9},"showarrow":false,"text":"28%\u003cbr\u003e(36)","x":"Strong (11-25)","y":"Marta Kostyuk"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(41)","x":"Solid (26-50)","y":"Marta Kostyuk"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(52)","x":"Mid-tier (51-100)","y":"Marta Kostyuk"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(40)","x":"Lower (100+)","y":"Marta Kostyuk"},{"font":{"color":"black","size":9},"showarrow":false,"text":"21%\u003cbr\u003e(19)","x":"Elite (1-10)","y":"Katie Boulter"},{"font":{"color":"black","size":9},"showarrow":false,"text":"42%\u003cbr\u003e(19)","x":"Strong (11-25)","y":"Katie Boulter"},{"font":{"color":"black","size":9},"showarrow":false,"text":"50%\u003cbr\u003e(30)","x":"Solid (26-50)","y":"Katie Boulter"},{"font":{"color":"black","size":9},"showarrow":false,"text":"59%\u003cbr\u003e(49)","x":"Mid-tier (51-100)","y":"Katie Boulter"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(52)","x":"Lower (100+)","y":"Katie Boulter"},{"font":{"color":"black","size":9},"showarrow":false,"text":"48%\u003cbr\u003e(25)","x":"Elite (1-10)","y":"Beatriz Haddad Maia"},{"font":{"color":"black","size":9},"showarrow":false,"text":"38%\u003cbr\u003e(47)","x":"Strong (11-25)","y":"Beatriz Haddad Maia"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(59)","x":"Solid (26-50)","y":"Beatriz Haddad Maia"},{"font":{"color":"black","size":9},"showarrow":false,"text":"60%\u003cbr\u003e(79)","x":"Mid-tier (51-100)","y":"Beatriz Haddad Maia"},{"font":{"color":"white","size":9},"showarrow":false,"text":"70%\u003cbr\u003e(71)","x":"Lower (100+)","y":"Beatriz Haddad Maia"},{"font":{"color":"black","size":9},"showarrow":false,"text":"31%\u003cbr\u003e(16)","x":"Elite (1-10)","y":"Emma Navarro"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(15)","x":"Strong (11-25)","y":"Emma Navarro"},{"font":{"color":"black","size":9},"showarrow":false,"text":"48%\u003cbr\u003e(27)","x":"Solid (26-50)","y":"Emma Navarro"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(41)","x":"Mid-tier (51-100)","y":"Emma Navarro"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(31)","x":"Lower (100+)","y":"Emma Navarro"},{"font":{"color":"black","size":9},"showarrow":false,"text":"38%\u003cbr\u003e(55)","x":"Elite (1-10)","y":"Jelena Ostapenko"},{"font":{"color":"black","size":9},"showarrow":false,"text":"50%\u003cbr\u003e(74)","x":"Strong (11-25)","y":"Jelena Ostapenko"},{"font":{"color":"black","size":9},"showarrow":false,"text":"57%\u003cbr\u003e(122)","x":"Solid (26-50)","y":"Jelena Ostapenko"},{"font":{"color":"white","size":9},"showarrow":false,"text":"64%\u003cbr\u003e(132)","x":"Mid-tier (51-100)","y":"Jelena Ostapenko"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(97)","x":"Lower (100+)","y":"Jelena Ostapenko"},{"font":{"color":"black","size":9},"showarrow":false,"text":"37%\u003cbr\u003e(71)","x":"Elite (1-10)","y":"Daria Kasatkina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"45%\u003cbr\u003e(91)","x":"Strong (11-25)","y":"Daria Kasatkina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"63%\u003cbr\u003e(126)","x":"Solid (26-50)","y":"Daria Kasatkina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(147)","x":"Mid-tier (51-100)","y":"Daria Kasatkina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"79%\u003cbr\u003e(76)","x":"Lower (100+)","y":"Daria Kasatkina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"33%\u003cbr\u003e(48)","x":"Elite (1-10)","y":"Danielle Collins"},{"font":{"color":"black","size":9},"showarrow":false,"text":"50%\u003cbr\u003e(44)","x":"Strong (11-25)","y":"Danielle Collins"},{"font":{"color":"black","size":9},"showarrow":false,"text":"55%\u003cbr\u003e(64)","x":"Solid (26-50)","y":"Danielle Collins"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(74)","x":"Mid-tier (51-100)","y":"Danielle Collins"},{"font":{"color":"white","size":9},"showarrow":false,"text":"86%\u003cbr\u003e(62)","x":"Lower (100+)","y":"Danielle Collins"},{"font":{"color":"black","size":9},"showarrow":false,"text":"40%\u003cbr\u003e(37)","x":"Elite (1-10)","y":"Barbora Krejcikova"},{"font":{"color":"black","size":9},"showarrow":false,"text":"41%\u003cbr\u003e(44)","x":"Strong (11-25)","y":"Barbora Krejcikova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(42)","x":"Solid (26-50)","y":"Barbora Krejcikova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(71)","x":"Mid-tier (51-100)","y":"Barbora Krejcikova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"74%\u003cbr\u003e(61)","x":"Lower (100+)","y":"Barbora Krejcikova"},{"font":{"color":"black","size":9},"showarrow":false,"text":"36%\u003cbr\u003e(78)","x":"Elite (1-10)","y":"Madison Keys"},{"font":{"color":"black","size":9},"showarrow":false,"text":"56%\u003cbr\u003e(96)","x":"Strong (11-25)","y":"Madison Keys"},{"font":{"color":"white","size":9},"showarrow":false,"text":"62%\u003cbr\u003e(108)","x":"Solid (26-50)","y":"Madison Keys"},{"font":{"color":"white","size":9},"showarrow":false,"text":"70%\u003cbr\u003e(148)","x":"Mid-tier (51-100)","y":"Madison Keys"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(88)","x":"Lower (100+)","y":"Madison Keys"},{"font":{"color":"black","size":9},"showarrow":false,"text":"35%\u003cbr\u003e(37)","x":"Elite (1-10)","y":"Paula Badosa"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(45)","x":"Strong (11-25)","y":"Paula Badosa"},{"font":{"color":"white","size":9},"showarrow":false,"text":"69%\u003cbr\u003e(58)","x":"Solid (26-50)","y":"Paula Badosa"},{"font":{"color":"white","size":9},"showarrow":false,"text":"76%\u003cbr\u003e(70)","x":"Mid-tier (51-100)","y":"Paula Badosa"},{"font":{"color":"white","size":9},"showarrow":false,"text":"63%\u003cbr\u003e(49)","x":"Lower (100+)","y":"Paula Badosa"},{"font":{"color":"black","size":9},"showarrow":false,"text":"40%\u003cbr\u003e(38)","x":"Elite (1-10)","y":"Karolina Muchova"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(33)","x":"Strong (11-25)","y":"Karolina Muchova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"68%\u003cbr\u003e(47)","x":"Solid (26-50)","y":"Karolina Muchova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(54)","x":"Mid-tier (51-100)","y":"Karolina Muchova"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(39)","x":"Lower (100+)","y":"Karolina Muchova"},{"font":{"color":"black","size":9},"showarrow":false,"text":"10%\u003cbr\u003e(10)","x":"Elite (1-10)","y":"Diana Shnaider"},{"font":{"color":"black","size":9},"showarrow":false,"text":"60%\u003cbr\u003e(15)","x":"Strong (11-25)","y":"Diana Shnaider"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(28)","x":"Solid (26-50)","y":"Diana Shnaider"},{"font":{"color":"white","size":9},"showarrow":false,"text":"72%\u003cbr\u003e(29)","x":"Mid-tier (51-100)","y":"Diana Shnaider"},{"font":{"color":"white","size":9},"showarrow":false,"text":"83%\u003cbr\u003e(29)","x":"Lower (100+)","y":"Diana Shnaider"},{"font":{"color":"black","size":9},"showarrow":false,"text":"37%\u003cbr\u003e(30)","x":"Elite (1-10)","y":"Qinwen Zheng"},{"font":{"color":"black","size":9},"showarrow":false,"text":"56%\u003cbr\u003e(34)","x":"Strong (11-25)","y":"Qinwen Zheng"},{"font":{"color":"black","size":9},"showarrow":false,"text":"60%\u003cbr\u003e(42)","x":"Solid (26-50)","y":"Qinwen Zheng"},{"font":{"color":"white","size":9},"showarrow":false,"text":"82%\u003cbr\u003e(56)","x":"Mid-tier (51-100)","y":"Qinwen Zheng"},{"font":{"color":"white","size":9},"showarrow":false,"text":"81%\u003cbr\u003e(26)","x":"Lower (100+)","y":"Qinwen Zheng"},{"font":{"color":"black","size":9},"showarrow":false,"text":"44%\u003cbr\u003e(96)","x":"Elite (1-10)","y":"Elina Svitolina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"50%\u003cbr\u003e(103)","x":"Strong (11-25)","y":"Elina Svitolina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"60%\u003cbr\u003e(134)","x":"Solid (26-50)","y":"Elina Svitolina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(174)","x":"Mid-tier (51-100)","y":"Elina Svitolina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"81%\u003cbr\u003e(117)","x":"Lower (100+)","y":"Elina Svitolina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"31%\u003cbr\u003e(13)","x":"Elite (1-10)","y":"Mirra Andreeva"},{"font":{"color":"white","size":9},"showarrow":false,"text":"67%\u003cbr\u003e(18)","x":"Strong (11-25)","y":"Mirra Andreeva"},{"font":{"color":"white","size":9},"showarrow":false,"text":"62%\u003cbr\u003e(13)","x":"Solid (26-50)","y":"Mirra Andreeva"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(32)","x":"Mid-tier (51-100)","y":"Mirra Andreeva"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(16)","x":"Lower (100+)","y":"Mirra Andreeva"},{"font":{"color":"black","size":9},"showarrow":false,"text":"45%\u003cbr\u003e(60)","x":"Elite (1-10)","y":"Jessica Pegula"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(61)","x":"Strong (11-25)","y":"Jessica Pegula"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(72)","x":"Solid (26-50)","y":"Jessica Pegula"},{"font":{"color":"white","size":9},"showarrow":false,"text":"74%\u003cbr\u003e(97)","x":"Mid-tier (51-100)","y":"Jessica Pegula"},{"font":{"color":"white","size":9},"showarrow":false,"text":"77%\u003cbr\u003e(53)","x":"Lower (100+)","y":"Jessica Pegula"},{"font":{"color":"black","size":9},"showarrow":false,"text":"47%\u003cbr\u003e(176)","x":"Elite (1-10)","y":"Victoria Azarenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"63%\u003cbr\u003e(159)","x":"Strong (11-25)","y":"Victoria Azarenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"73%\u003cbr\u003e(198)","x":"Solid (26-50)","y":"Victoria Azarenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"82%\u003cbr\u003e(219)","x":"Mid-tier (51-100)","y":"Victoria Azarenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"82%\u003cbr\u003e(116)","x":"Lower (100+)","y":"Victoria Azarenka"},{"font":{"color":"black","size":9},"showarrow":false,"text":"54%\u003cbr\u003e(56)","x":"Elite (1-10)","y":"Elena Rybakina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(62)","x":"Strong (11-25)","y":"Elena Rybakina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"61%\u003cbr\u003e(80)","x":"Solid (26-50)","y":"Elena Rybakina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"80%\u003cbr\u003e(89)","x":"Mid-tier (51-100)","y":"Elena Rybakina"},{"font":{"color":"white","size":9},"showarrow":false,"text":"90%\u003cbr\u003e(61)","x":"Lower (100+)","y":"Elena Rybakina"},{"font":{"color":"black","size":9},"showarrow":false,"text":"48%\u003cbr\u003e(61)","x":"Elite (1-10)","y":"Coco Gauff"},{"font":{"color":"black","size":9},"showarrow":false,"text":"50%\u003cbr\u003e(50)","x":"Strong (11-25)","y":"Coco Gauff"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(69)","x":"Solid (26-50)","y":"Coco Gauff"},{"font":{"color":"white","size":9},"showarrow":false,"text":"90%\u003cbr\u003e(88)","x":"Mid-tier (51-100)","y":"Coco Gauff"},{"font":{"color":"white","size":9},"showarrow":false,"text":"91%\u003cbr\u003e(43)","x":"Lower (100+)","y":"Coco Gauff"},{"font":{"color":"black","size":9},"showarrow":false,"text":"53%\u003cbr\u003e(88)","x":"Elite (1-10)","y":"Aryna Sabalenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"73%\u003cbr\u003e(88)","x":"Strong (11-25)","y":"Aryna Sabalenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"71%\u003cbr\u003e(119)","x":"Solid (26-50)","y":"Aryna Sabalenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"76%\u003cbr\u003e(106)","x":"Mid-tier (51-100)","y":"Aryna Sabalenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"85%\u003cbr\u003e(68)","x":"Lower (100+)","y":"Aryna Sabalenka"},{"font":{"color":"white","size":9},"showarrow":false,"text":"66%\u003cbr\u003e(70)","x":"Elite (1-10)","y":"Iga Swiatek"},{"font":{"color":"white","size":9},"showarrow":false,"text":"75%\u003cbr\u003e(71)","x":"Strong (11-25)","y":"Iga Swiatek"},{"font":{"color":"white","size":9},"showarrow":false,"text":"78%\u003cbr\u003e(85)","x":"Solid (26-50)","y":"Iga Swiatek"},{"font":{"color":"white","size":9},"showarrow":false,"text":"91%\u003cbr\u003e(76)","x":"Mid-tier (51-100)","y":"Iga Swiatek"},{"font":{"color":"white","size":9},"showarrow":false,"text":"94%\u003cbr\u003e(55)","x":"Lower (100+)","y":"Iga Swiatek"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('afeb82dc-d7c7-4af5-8b42-278771244c67');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-2-expected-vs-actual-performance" class="level2">
<h2 class="anchored" data-anchor-id="view-2-expected-vs-actual-performance">View 2: Expected vs Actual Performance</h2>
<p>This scatter plot compares actual win rates against expected win rates based on ranking differential. Players above the diagonal are <strong>overperformers</strong> (winning more than expected), while those below are <strong>underperformers</strong>.</p>
<div id="cell-9" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> expected_win_prob(player_rank, opponent_rank):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Calculate expected win probability based on ranking differential</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Using a simplified Elo-style model based on rank difference"""</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> pd.isna(player_rank) <span class="kw">or</span> pd.isna(opponent_rank):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="fl">0.5</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use log-rank difference for better scaling</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    rank_diff <span class="op">=</span> np.log(opponent_rank) <span class="op">-</span> np.log(player_rank)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sigmoid function to convert to probability</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">1</span> <span class="op">/</span> (<span class="dv">1</span> <span class="op">+</span> np.exp(<span class="op">-</span>rank_diff <span class="op">*</span> <span class="fl">0.8</span>))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_expected_vs_actual(records_df, title, min_matches<span class="op">=</span><span class="dv">30</span>):</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create scatter plot of expected vs actual performance"""</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df.copy()</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df[df[<span class="st">'opponent_rank'</span>].notna() <span class="op">&amp;</span> df[<span class="st">'player_rank'</span>].notna()]</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate expected win probability for each match</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'expected_win'</span>] <span class="op">=</span> df.<span class="bu">apply</span>(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="kw">lambda</span> x: expected_win_prob(x[<span class="st">'player_rank'</span>], x[<span class="st">'opponent_rank'</span>]), axis<span class="op">=</span><span class="dv">1</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Aggregate by player</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    player_stats <span class="op">=</span> df.groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        actual_wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>        expected_wins<span class="op">=</span>(<span class="st">'expected_win'</span>, <span class="st">'sum'</span>),</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    player_stats[<span class="st">'actual_pct'</span>] <span class="op">=</span> player_stats[<span class="st">'actual_wins'</span>] <span class="op">/</span> player_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    player_stats[<span class="st">'expected_pct'</span>] <span class="op">=</span> player_stats[<span class="st">'expected_wins'</span>] <span class="op">/</span> player_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    player_stats[<span class="st">'delta'</span>] <span class="op">=</span> player_stats[<span class="st">'actual_pct'</span>] <span class="op">-</span> player_stats[<span class="st">'expected_pct'</span>]</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter by minimum matches</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    player_stats <span class="op">=</span> player_stats[player_stats[<span class="st">'matches'</span>] <span class="op">&gt;=</span> min_matches]</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create scatter plot</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> px.scatter(</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>        player_stats,</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'expected_pct'</span>,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'actual_pct'</span>,</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">'player_name'</span>,</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>        size<span class="op">=</span><span class="st">'matches'</span>,</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">'delta'</span>,</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>        color_continuous_scale<span class="op">=</span><span class="st">'RdYlGn'</span>,</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        color_continuous_midpoint<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>        hover_data<span class="op">=</span>{<span class="st">'matches'</span>: <span class="va">True</span>, <span class="st">'delta'</span>: <span class="st">':.1f'</span>},</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>            <span class="st">'expected_pct'</span>: <span class="st">'Expected Win %'</span>,</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>            <span class="st">'actual_pct'</span>: <span class="st">'Actual Win %'</span>,</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>            <span class="st">'delta'</span>: <span class="st">'Performance Delta'</span>,</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>            <span class="st">'matches'</span>: <span class="st">'Total Matches'</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span>title</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add diagonal line (y = x)</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>[<span class="dv">40</span>, <span class="dv">100</span>], y<span class="op">=</span>[<span class="dv">40</span>, <span class="dv">100</span>],</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(dash<span class="op">=</span><span class="st">'dash'</span>, color<span class="op">=</span><span class="st">'gray'</span>),</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Expected = Actual'</span>,</span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>  <span class="co"># Hide from legend - line is self-explanatory</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    fig.update_traces(</span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>        textposition<span class="op">=</span><span class="st">'top center'</span>,</span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>        selector<span class="op">=</span><span class="bu">dict</span>(mode<span class="op">=</span><span class="st">'markers+text'</span>)</span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>        xaxis<span class="op">=</span><span class="bu">dict</span>(<span class="bu">range</span><span class="op">=</span>[<span class="dv">40</span>, <span class="dv">100</span>]),</span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>        yaxis<span class="op">=</span><span class="bu">dict</span>(<span class="bu">range</span><span class="op">=</span>[<span class="dv">40</span>, <span class="dv">100</span>])</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>fig_exp_atp <span class="op">=</span> create_expected_vs_actual(atp_records, <span class="st">'ATP: Expected vs Actual Win Rate'</span>)</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>fig_exp_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="b228dd2c-375e-460c-be6a-38cfc7f60f4e" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("b228dd2c-375e-460c-be6a-38cfc7f60f4e")) {                    Plotly.newPlot(                        "b228dd2c-375e-460c-be6a-38cfc7f60f4e",                        [{"customdata":{"dtype":"f8","bdata":"AAAAAABgYEAAwVAZ2krFPwAAAAAAoHtAwIAFaBF8DEAAAAAAAHiFQIDAzQFiovA\u002fAAAAAACAbEDgVTuq6TPzvwAAAAAA4IBAAJ90Pr\u002f35j8AAAAAAMBeQBAMQBzCuxJAAAAAAABgYkAgr6rwshj4vwAAAAAAYHJAoNY+g9vOGEAAAAAAACB6QABTFcnFH\u002fW\u002fAAAAAAB4gUDAQt\u002f1qc37PwAAAAAAUHpAABKL4QS45L8AAAAAAEiIQJA7jDjLEg1AAAAAAADgbkAAeqYX7YPavwAAAAAAQHdAYKUfe6Tc+78AAAAAAEBiQDqgayqMAzBAAAAAAACwd0AoqemhDKMjQAAAAAAAYH9AgFIQ6Wlt2D8AAAAAAGBxQCAO+O3pqvQ\u002fAAAAAACYlUCg4kZyw9cHQAAAAAAAAGxAKJhYizo3IUAAAAAAAKiAQEAiuCVJKQbAAAAAAADwfkAg92BeyNf2PwAAAAAAwFtAtB\u002foKK84JEAAAAAAABB0QHBswJWujQhAAAAAAAAAckAAOmTV8He2Pw==","shape":"25, 2"},"hovertemplate":"Expected Win %=%{x}\u003cbr\u003eActual Win %=%{y}\u003cbr\u003eTotal Matches=%{customdata[0]}\u003cbr\u003eplayer_name=%{text}\u003cbr\u003ePerformance Delta=%{marker.color:.1f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":{"dtype":"f8","bdata":"AMFQGdpKxT\u002fAgAVoEXwMQIDAzQFiovA\u002f4FU7qukz878An3Q+v\u002ffmPxAMQBzCuxJAIK+q8LIY+L+g1j6D284YQABTFcnFH\u002fW\u002fwELf9anN+z8AEovhBLjkv5A7jDjLEg1AAHqmF+2D2r9gpR97pNz7vzqgayqMAzBAKKnpoQyjI0CAUhDpaW3YPyAO+O3pqvQ\u002foOJGcsPXB0AomFiLOjchQEAiuCVJKQbAIPdgXsjX9j+0H+gorzgkQHBswJWujQhAADpk1fB3tj8="},"coloraxis":"coloraxis","size":{"dtype":"i2","bdata":"gwC6Aa8C5AAcAnsAkwAmAaIBLwKlAQkD9wB0AZIAewH2ARYBZgXgABUC7wFvAEEBIAE="},"sizemode":"area","sizeref":3.455,"symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["Alejandro Tabilo","Alex De Minaur","Alexander Zverev","Alexei Popyrin","Andrey Rublev","Arthur Fils","Ben Shelton","Carlos Alcaraz","Casper Ruud","Daniil Medvedev","Frances Tiafoe","Grigor Dimitrov","Holger Rune","Hubert Hurkacz","Jack Draper","Jannik Sinner","Karen Khachanov","Lorenzo Musetti","Novak Djokovic","Sebastian Korda","Stefanos Tsitsipas","Taylor Fritz","Tomas Machac","Tommy Paul","Ugo Humbert"],"x":{"dtype":"f8","bdata":"ZlPLf\u002fveSUCwnielNeBMQKWJbvRkPlFAgjSetNA2RUAEkoxuNgZQQIvMP50EtUlAccH7a+ikTEB1k\u002f64t25SQHzetIHYW1BAoXsYpfFoUUDoxGfdhLBKQF2mxU5E0ExAvX8Y9JhhT0AuCAXUpWFPQBSSjnNLIUZAlDVJR2DfUEAMaUnLEZhMQJEcKVg4sUpAFYiC\u002fAYmVECsRwUUn31IQEtmNv\u002f7h1FAaCl8JIoVTUDisodKzZ5EQBIpaKH3b0tAcTHOlafdSkA="},"xaxis":"x","y":{"dtype":"f8","bdata":"J6TkWUb0SUC89qe79qdOQKfAdXzugFFA01lMZzGdREBCewntJTRQQA3Ox+B8DExA+Gt21CLkS0DfgDJxpftTQDCJkGpZB1BArPjvTCjYUUCgmOHJpF1KQBZqTgJxoU5AyTLpGZEsT0ADCyywwIJOQDFixIgRI05AuWqG28FTU0CxiRuf7MhMQALdmKePVktAKr8UGMXkVEC2bdu2bctMQDmlCLax1lBAITFvZ0jMTUDPusEU+axJQNkvxIrS+ExAjuM4juPoSkA="},"yaxis":"y","type":"scatter","textposition":"top center"},{"line":{"color":"gray","dash":"dash"},"mode":"lines","name":"Expected = Actual","showlegend":false,"x":[40,100],"y":[40,100],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Expected Win %"},"range":[40,100]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Actual Win %"},"range":[40,100]},"coloraxis":{"colorbar":{"title":{"text":"Performance Delta"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"cmid":0},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"ATP: Expected vs Actual Win Rate"},"height":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b228dd2c-375e-460c-be6a-38cfc7f60f4e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-10" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig_exp_wta <span class="op">=</span> create_expected_vs_actual(wta_records, <span class="st">'WTA: Expected vs Actual Win Rate'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>fig_exp_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="495ad877-a53c-4cd8-ba75-76d6d20509ed" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("495ad877-a53c-4cd8-ba75-76d6d20509ed")) {                    Plotly.newPlot(                        "495ad877-a53c-4cd8-ba75-76d6d20509ed",                        [{"customdata":{"dtype":"f8","bdata":"AAAAAABgaUDgHsKZ17EaQAAAAAAAUH1AQC7dsx3g9L8AAAAAAOBvQDCNI9WPjwlAAAAAAACQcUAAGRcEygXfvwAAAAAAcHNAoPj8GZjGEUAAAAAAADByQAgdhBge8B5AAAAAAADwf0AA6PnASgr5PwAAAAAAwFtAEBC6QYu5IEAAAAAAANB8QMDPYUTv\u002fwdAAAAAAADAdUAQAsFo79wXQAAAAAAAeINAAMA3Exfnur8AAAAAAEBgQMD1aDEnOOw\u002fAAAAAABQdkCAn4tHW33xPwAAAAAAgHBAYCWwG5a29D8AAAAAAAB+QACgz6aGJ\u002fC\u002fAAAAAABwdUBQclwJoGkLQAAAAAAAYGpA\u002fEZG+oOEL0AAAAAAACBlQBwD+GZklSJAAAAAAAAQgEBQk7xXAZ0MQAAAAAAAQGVAAN4tf3vo9r8AAAAAAEBpQBgIq7VZzyFAAAAAAAAAV0Dwp5McBkUqQAAAAAAAMHBA8Lbym\u002fhWHEAAAAAAAIBnQIA\u002fcu8HmxdAAAAAAAAQi0AQgI8lF8wdQA==","shape":"25, 2"},"hovertemplate":"Expected Win %=%{x}\u003cbr\u003eActual Win %=%{y}\u003cbr\u003eTotal Matches=%{customdata[0]}\u003cbr\u003eplayer_name=%{text}\u003cbr\u003ePerformance Delta=%{marker.color:.1f}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":{"dtype":"f8","bdata":"4B7CmdexGkBALt2zHeD0vzCNI9WPjwlAABkXBMoF37+g+PwZmMYRQAgdhBge8B5AAOj5wEoK+T8QELpBi7kgQMDPYUTv\u002fwdAEALBaO\u002fcF0AAwDcTF+e6v8D1aDEnOOw\u002fgJ+LR1t98T9gJbAblrb0PwCgz6aGJ\u002fC\u002fUHJcCaBpC0D8Rkb6g4QvQBwD+GZklSJAUJO8VwGdDEAA3i1\u002fe+j2vxgIq7VZzyFA8KeTHAZFKkDwtvKb+FYcQIA\u002fcu8HmxdAEICPJRfMHUA="},"coloraxis":"coloraxis","size":{"dtype":"i2","bdata":"ywDVAf8AGQE3ASMB\u002fwFvAM0BXAFvAoIAZQEIAeABVwHTAKkAAgKqAMoAXAADAbwAYgM="},"sizemode":"area","sizeref":2.165,"symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["Anna Kalinskaya","Aryna Sabalenka","Barbora Krejcikova","Beatriz Haddad Maia","Coco Gauff","Danielle Collins","Daria Kasatkina","Diana Shnaider","Donna Vekic","Elena Rybakina","Elina Svitolina","Emma Navarro","Iga Swiatek","Jasmine Paolini","Jelena Ostapenko","Jessica Pegula","Karolina Muchova","Katie Boulter","Madison Keys","Magdalena Frech","Marta Kostyuk","Mirra Andreeva","Paula Badosa","Qinwen Zheng","Victoria Azarenka"],"x":{"dtype":"f8","bdata":"Jtli\u002fEvJRUBw4qot7i5SQJErEmdry0xA22Rs9r+ITED7SQdyf6dQQF2SXOmQX0pAz082JqYoTUB9NOKir1lLQCHkr2XX9khApH4ua1DuT0AybutDPUdQQLL5Eu28Z0xAQP3oUDbBU0A5EnCFJD9KQFbSi4qRdk1Aj0IvyCurT0D8sOE8dGZHQCcr7V1w3kZA9QyuwFkMTUDwbvnbQ7dEQETle9QXh0ZAful2V7OVSkBuOlGn4olLQCZ89gwBf01AuGVtVtnqTkA="},"xaxis":"x","y":{"dtype":"f8","bdata":"Ah2b74YfSUC3bdu2bdtRQGRkZGRkZE5AqTZkYrRKTECFGafz6MNRQP4VbayUPU5ADx8+fPjwTUCBuFBzEohPQB0B9lnWdkpAc08jLPd0UUBCoCZ+g0BQQImd2Imd2ExAvisHvisHVEBkk0022eRKQFZVVVVV9UxA2oRi5OKwUEC7QnM7lUdPQO4rq3fJg0tAKtYp1inWTkAAAAAAAABEQEqn5kHu+kpAvelNb3qTUEBMkc+6wRRPQAticgUxOVBA3aqPHS5SUUA="},"yaxis":"y","type":"scatter","textposition":"top center"},{"line":{"color":"gray","dash":"dash"},"mode":"lines","name":"Expected = Actual","showlegend":false,"x":[40,100],"y":[40,100],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Expected Win %"},"range":[40,100]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Actual Win %"},"range":[40,100]},"coloraxis":{"colorbar":{"title":{"text":"Performance Delta"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"cmid":0},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"WTA: Expected vs Actual Win Rate"},"height":600},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('495ad877-a53c-4cd8-ba75-76d6d20509ed');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-3-performance-drop-off-lines" class="level2">
<h2 class="anchored" data-anchor-id="view-3-performance-drop-off-lines">View 3: Performance Drop-off Lines</h2>
<p>This chart shows how each player’s win rate changes as opponent quality increases. <strong>Flat lines</strong> indicate “elite beaters” who maintain performance against top opponents. <strong>Steep drop-offs</strong> indicate “stat padders” who dominate weaker opponents but struggle vs the best.</p>
<div id="cell-12" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_dropoff_chart(records_df, title, highlight_player<span class="op">=</span><span class="va">None</span>, min_matches<span class="op">=</span><span class="dv">5</span>):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create line chart showing win rate across opponent tiers"""</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df[records_df[<span class="st">'opponent_tier'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>].copy()</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    tier_order <span class="op">=</span> [<span class="st">'Lower (100+)'</span>, <span class="st">'Mid-tier (51-100)'</span>, <span class="st">'Solid (26-50)'</span>, <span class="st">'Strong (11-25)'</span>, <span class="st">'Elite (1-10)'</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate win rates</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    tier_stats <span class="op">=</span> df.groupby([<span class="st">'player_name'</span>, <span class="st">'opponent_tier'</span>]).agg(</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    tier_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> tier_stats[<span class="st">'wins'</span>] <span class="op">/</span> tier_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter by min matches per tier</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    tier_stats <span class="op">=</span> tier_stats[tier_stats[<span class="st">'matches'</span>] <span class="op">&gt;=</span> min_matches]</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Order tiers</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    tier_stats[<span class="st">'tier_order'</span>] <span class="op">=</span> tier_stats[<span class="st">'opponent_tier'</span>].<span class="bu">map</span>({t: i <span class="cf">for</span> i, t <span class="kw">in</span> <span class="bu">enumerate</span>(tier_order)})</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    tier_stats <span class="op">=</span> tier_stats.sort_values([<span class="st">'player_name'</span>, <span class="st">'tier_order'</span>])</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure()</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    players <span class="op">=</span> tier_stats[<span class="st">'player_name'</span>].unique()</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> player <span class="kw">in</span> players:</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        player_data <span class="op">=</span> tier_stats[tier_stats[<span class="st">'player_name'</span>] <span class="op">==</span> player]</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        is_highlighted <span class="op">=</span> highlight_player <span class="kw">and</span> player <span class="op">==</span> highlight_player</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>        fig.add_trace(go.Scatter(</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>player_data[<span class="st">'opponent_tier'</span>],</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>player_data[<span class="st">'win_pct'</span>],</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>            mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span>player,</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>            line<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>                width<span class="op">=</span><span class="dv">3</span> <span class="cf">if</span> is_highlighted <span class="cf">else</span> <span class="dv">1</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>                color<span class="op">=</span><span class="st">'red'</span> <span class="cf">if</span> is_highlighted <span class="cf">else</span> <span class="st">'rgba(150,150,150,0.3)'</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>            marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span> <span class="cf">if</span> is_highlighted <span class="cf">else</span> <span class="dv">4</span>),</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>            hovertemplate<span class="op">=</span><span class="ss">f'</span><span class="sc">{</span>player<span class="sc">}</span><span class="ss">&lt;br&gt;Tier: %</span><span class="ch">{{</span><span class="ss">x</span><span class="ch">}}</span><span class="ss">&lt;br&gt;Win Rate: %</span><span class="ch">{{</span><span class="ss">y:.1f</span><span class="ch">}}</span><span class="ss">%&lt;extra&gt;&lt;/extra&gt;'</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>            visible<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>            legendgroup<span class="op">=</span>player</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create dropdown for player selection</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    buttons <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="st">'All Players'</span>,</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>        method<span class="op">=</span><span class="st">'update'</span>,</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>        args<span class="op">=</span>[{<span class="st">'line.width'</span>: [<span class="dv">1</span>] <span class="op">*</span> <span class="bu">len</span>(players),</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>               <span class="st">'line.color'</span>: [<span class="st">'rgba(150,150,150,0.5)'</span>] <span class="op">*</span> <span class="bu">len</span>(players)}]</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>    )]</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, player <span class="kw">in</span> <span class="bu">enumerate</span>(players):</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>        widths <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> <span class="bu">len</span>(players)</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>        colors <span class="op">=</span> [<span class="st">'rgba(150,150,150,0.3)'</span>] <span class="op">*</span> <span class="bu">len</span>(players)</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>        widths[i] <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>        colors[i] <span class="op">=</span> <span class="st">'red'</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>        buttons.append(<span class="bu">dict</span>(</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>            label<span class="op">=</span>player,</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>            method<span class="op">=</span><span class="st">'update'</span>,</span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>            args<span class="op">=</span>[{<span class="st">'line.width'</span>: widths, <span class="st">'line.color'</span>: colors}]</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span>title,</span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>        xaxis_title<span class="op">=</span><span class="st">'Opponent Tier (Weakest → Strongest)'</span>,</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>        yaxis_title<span class="op">=</span><span class="st">'Win Rate (%)'</span>,</span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>        showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>        updatemenus<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>            active<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>            buttons<span class="op">=</span>buttons,</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">1.0</span>,</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="fl">1.02</span>,</span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>            showactive<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>            bgcolor<span class="op">=</span><span class="st">'rgba(255,255,255,0.9)'</span>,</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>            bordercolor<span class="op">=</span><span class="st">'#ccc'</span>,</span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>            borderwidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">11</span>),</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>            pad<span class="op">=</span><span class="bu">dict</span>(l<span class="op">=</span><span class="dv">10</span>, t<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>        )],</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>        xaxis<span class="op">=</span><span class="bu">dict</span>(categoryorder<span class="op">=</span><span class="st">'array'</span>, categoryarray<span class="op">=</span>tier_order),</span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>        margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>)</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>fig_dropoff_atp <span class="op">=</span> create_dropoff_chart(atp_records, <span class="st">'ATP: Performance Drop-off by Opponent Tier'</span>)</span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>fig_dropoff_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="b37f3b1c-a990-4043-be44-ac556efc20f2" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("b37f3b1c-a990-4043-be44-ac556efc20f2")) {                    Plotly.newPlot(                        "b37f3b1c-a990-4043-be44-ac556efc20f2",                        [{"hovertemplate":"Alejandro Tabilo\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alejandro Tabilo","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Alejandro Tabilo","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"q6qqqqoqU0AkSZIkSZJMQEUXXXTRRUtAAAAAAAAANEAAAAAAAAAkQA=="},"type":"scatter"},{"hovertemplate":"Alex De Minaur\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alex De Minaur","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Alex De Minaur","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"shM7sRM7U0AzMzMzMzNRQLmnEZZ7GlJAF9NZTGcxS0Ci0pE9A1E5QA=="},"type":"scatter"},{"hovertemplate":"Alexander Zverev\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alexander Zverev","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Alexander Zverev","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"VlVVVVWdVUAyFtUwOzhTQJyPwfkYXFNAdyVqV6J2UEB7a8M0d8FFQA=="},"type":"scatter"},{"hovertemplate":"Alexei Popyrin\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alexei Popyrin","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Alexei Popyrin","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"q6qqqqoqTUDCFPmsG0xGQIfUBOOt7EFARRdddNFFO0AAAAAAAMBCQA=="},"type":"scatter"},{"hovertemplate":"Andrey Rublev\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Andrey Rublev","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Andrey Rublev","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"WlpaWlraU0DJJptssslSQJwg3I19j1BA0F5CewntSUDuwFw7MNdCQA=="},"type":"scatter"},{"hovertemplate":"Arthur Fils\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arthur Fils","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Arthur Fils","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"qDe96U1vTkAvuuiii65OQLrooosuukZAJEmSJEmSTEA7sRM7sRNHQA=="},"type":"scatter"},{"hovertemplate":"Ben Shelton\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ben Shelton","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Ben Shelton","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"uacRlnsaUkDHcRzHcRxQQE\u002fsxE7sxE5AVlVVVVXVREAhC1nIQhY6QA=="},"type":"scatter"},{"hovertemplate":"Carlos Alcaraz\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Carlos Alcaraz","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Carlos Alcaraz","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"27Zt27ZtVUC3bdu2bftUQNu2bdu2bVVASZIkSZKkU0BJkiRJkiRRQA=="},"type":"scatter"},{"hovertemplate":"Casper Ruud\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Casper Ruud","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Casper Ruud","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"0iAN0iCNU0AWXuEVXuFQQJXhG1Fg0lFARRdddNFFS0C3bdu2bdtBQA=="},"type":"scatter"},{"hovertemplate":"Daniil Medvedev\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Daniil Medvedev","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Daniil Medvedev","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"U+SzbjBFVEAnm2yyyWZVQFvfBgzVdFJAshM7sRMbUEAAAAAAAIBIQA=="},"type":"scatter"},{"hovertemplate":"Frances Tiafoe\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Frances Tiafoe","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Frances Tiafoe","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"pXiBTIoXUEBoWHCpbO9OQMD2kMuKgUpAjDHGGGOMQkAAAAAAAAA6QA=="},"type":"scatter"},{"hovertemplate":"Grigor Dimitrov\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Grigor Dimitrov","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Grigor Dimitrov","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"fa2eHQI3U0AKTDo1D\u002fJRQG8wRT7rBlFABRkXZFyQSUAtLS0tLS1AQA=="},"type":"scatter"},{"hovertemplate":"Holger Rune\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Holger Rune","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Holger Rune","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"IyMjIyMjUkAdSLTC5kBRQEYXXXTRRVFAuuiiiy66RkDXUF5DeQ1FQA=="},"type":"scatter"},{"hovertemplate":"Hubert Hurkacz\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Hubert Hurkacz","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Hubert Hurkacz","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"btu2bdu2VEBrY2i6g\u002f1QQHCBC1zgAlBAVlVVVVXVREAAAAAAAABBQA=="},"type":"scatter"},{"hovertemplate":"Jack Draper\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jack Draper","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Jack Draper","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"AAAAAADAUkCDKfJZN5hTQBzHcRzH8U9Auuiiiy66RkAAAAAAAAA+QA=="},"type":"scatter"},{"hovertemplate":"Jannik Sinner\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jannik Sinner","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Jannik Sinner","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"voT2EtpLVUA\u002fW6wM34hVQKqqqqqqqlNAFZcMwTraUkAAAAAAAEBPQA=="},"type":"scatter"},{"hovertemplate":"Karen Khachanov\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Karen Khachanov","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Karen Khachanov","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"NEiDNEiDVEAhf82OWoRRQCKEEEIIoUxAKOGNps6vRUCO4ziO4zg2QA=="},"type":"scatter"},{"hovertemplate":"Lorenzo Musetti\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lorenzo Musetti","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Lorenzo Musetti","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"IjXBeCv7UEDxRlPn1x5OQHIcx3Ecx0tAGYZhGIZhS0BkIQtZyEI8QA=="},"type":"scatter"},{"hovertemplate":"Novak Djokovic\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Novak Djokovic","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Novak Djokovic","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"AAAAAADQVkD6Sax5pXpXQNOCtnbxeVZAAAAAAACbVEAsn4jZXDpRQA=="},"type":"scatter"},{"hovertemplate":"Sebastian Korda\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Sebastian Korda","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Sebastian Korda","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"aZAGaZAGUEDsxE7sxE5RQIwuuuiii01AIQtZyEIWSkAAAAAAAAA+QA=="},"type":"scatter"},{"hovertemplate":"Stefanos Tsitsipas\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Stefanos Tsitsipas","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Stefanos Tsitsipas","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"t23btm1bVEBZ7mmE5Z5SQNeGae6Cv1FAxOQKYnIFUUDkkUceeeRDQA=="},"type":"scatter"},{"hovertemplate":"Taylor Fritz\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Taylor Fritz","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Taylor Fritz","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"v9k69JutUkDdYIp81o1QQIwuuuiii01Abdu2bdu2SUAAAAAAAGBDQA=="},"type":"scatter"},{"hovertemplate":"Tomas Machac\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Tomas Machac","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Tomas Machac","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"q6qqqqqqSkDsxE7sxE5RQKqqqqqqqlBAAAAAAACAQUCHh4eHh4c3QA=="},"type":"scatter"},{"hovertemplate":"Tommy Paul\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Tommy Paul","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Tommy Paul","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"ip3YiZ3YUkBDeQ3lNZRQQNV9eWxF0ExAVVVVVVVVR0AkSZIkSZI8QA=="},"type":"scatter"},{"hovertemplate":"Ugo Humbert\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ugo Humbert","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Ugo Humbert","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"7MRO7MROUUDFHXFH3BFNQO3ETuzETkZA6JCaYLyVR0AAAAAAAHBHQA=="},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Opponent Tier (Weakest → Strongest)"},"categoryorder":"array","categoryarray":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"]},"margin":{"t":80},"title":{"text":"ATP: Performance Drop-off by Opponent Tier"},"yaxis":{"title":{"text":"Win Rate (%)"}},"height":600,"showlegend":false,"updatemenus":[{"active":0,"bgcolor":"rgba(255,255,255,0.9)","bordercolor":"#ccc","borderwidth":1,"buttons":[{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)"]}],"label":"All Players","method":"update"},{"args":[{"line.width":[4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Alejandro Tabilo","method":"update"},{"args":[{"line.width":[1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Alex De Minaur","method":"update"},{"args":[{"line.width":[1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Alexander Zverev","method":"update"},{"args":[{"line.width":[1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Alexei Popyrin","method":"update"},{"args":[{"line.width":[1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Andrey Rublev","method":"update"},{"args":[{"line.width":[1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Arthur Fils","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Ben Shelton","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Carlos Alcaraz","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Casper Ruud","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Daniil Medvedev","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Frances Tiafoe","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Grigor Dimitrov","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Holger Rune","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Hubert Hurkacz","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Jack Draper","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Jannik Sinner","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Karen Khachanov","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Lorenzo Musetti","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Novak Djokovic","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Sebastian Korda","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Stefanos Tsitsipas","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Taylor Fritz","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Tomas Machac","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)"]}],"label":"Tommy Paul","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red"]}],"label":"Ugo Humbert","method":"update"}],"font":{"size":11},"pad":{"l":10,"t":10},"showactive":true,"x":1.0,"xanchor":"right","y":1.02,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b37f3b1c-a990-4043-be44-ac556efc20f2');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-13" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>fig_dropoff_wta <span class="op">=</span> create_dropoff_chart(wta_records, <span class="st">'WTA: Performance Drop-off by Opponent Tier'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fig_dropoff_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="5111f8d2-9f2f-49a1-b694-0cf7fdd6a6f6" class="plotly-graph-div" style="height:600px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("5111f8d2-9f2f-49a1-b694-0cf7fdd6a6f6")) {                    Plotly.newPlot(                        "5111f8d2-9f2f-49a1-b694-0cf7fdd6a6f6",                        [{"hovertemplate":"Anna Kalinskaya\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Anna Kalinskaya","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Anna Kalinskaya","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"QhaykIUsS0AtLS0tLS1QQKqqqqqq6kZALS0tLS0tQECqqqqqqupGQA=="},"type":"scatter"},{"hovertemplate":"Aryna Sabalenka\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Aryna Sabalenka","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Aryna Sabalenka","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"09LS0tJSVUDGW9nnkBpTQLdt27Zt21FAL7rooosuUkB00UUXXbRKQA=="},"type":"scatter"},{"hovertemplate":"Barbora Krejcikova\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Barbora Krejcikova","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Barbora Krejcikova","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"wTravE9xUkDYHEi0wuZQQDEMwzAMQ1FAddFFF110REBT5LNuMEVEQA=="},"type":"scatter"},{"hovertemplate":"Beatriz Haddad Maia\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Beatriz Haddad Maia","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Beatriz Haddad Maia","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"YXMg0QqbUUB+V4ubML9NQAQNJ3VfHktAXUFMriAmQ0AAAAAAAABIQA=="},"type":"scatter"},{"hovertemplate":"Coco Gauff\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Coco Gauff","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Coco Gauff","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"a8qasqasVkDRRRdddHFWQMy1A3PtwFFAAAAAAAAASUAE62jzPsVHQA=="},"type":"scatter"},{"hovertemplate":"Danielle Collins\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Danielle Collins","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Danielle Collins","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"33vvvfdeVUBFPusGU+RQQAAAAAAAWEtAAAAAAAAASUCqqqqqqqpAQA=="},"type":"scatter"},{"hovertemplate":"Daria Kasatkina\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Daria Kasatkina","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Daria Kasatkina","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"ymsor6G8U0BAmbjSvQFRQJZlWZZlWU9AcQiHcAiHRkDryfjtUk9CQA=="},"type":"scatter"},{"hovertemplate":"Diana Shnaider\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Diana Shnaider","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Diana Shnaider","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"1AjLPY2wVEC5pxGWexpSQJIkSZIkyUpAAAAAAAAATkAAAAAAAAAkQA=="},"type":"scatter"},{"hovertemplate":"Donna Vekic\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Donna Vekic","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Donna Vekic","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"GIZhGIZhUUCKhFOaF39OQA3lNZTXUEpAAAAAAABAP0CSJEmSJMk6QA=="},"type":"scatter"},{"hovertemplate":"Elena Rybakina\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elena Rybakina","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Elena Rybakina","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"CNbR5n2KVkDPeMYznvFTQAEAAAAAoE5ApZRSSimlTkCSJEmSJMlKQA=="},"type":"scatter"},{"hovertemplate":"Elina Svitolina\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elina Svitolina","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Elina Svitolina","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"yZRMyZRMVEDIpHiBTIpTQBoT6YHK2U1AkErOyyI+SUAAAAAAAOBFQA=="},"type":"scatter"},{"hovertemplate":"Emma Navarro\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Emma Navarro","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Emma Navarro","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"vvfee++9UUB3JWpXonZQQC+hvYT2EkhAq6qqqqqqSkAAAAAAAEA\u002fQA=="},"type":"scatter"},{"hovertemplate":"Iga Swiatek\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Iga Swiatek","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Iga Swiatek","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"o4suuuiiV0Apr6G8hrJWQGppaWlpaVNAL\u002fVk\u002fHapUkDbtm3btm1QQA=="},"type":"scatter"},{"hovertemplate":"Jasmine Paolini\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jasmine Paolini","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Jasmine Paolini","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"t23btm3bUUB6Mn671JNNQFx00UUXXUpAz\u002fM8z\u002fM8REBFF1100UU7QA=="},"type":"scatter"},{"hovertemplate":"Jelena Ostapenko\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jelena Ostapenko","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Jelena Ostapenko","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"pmG7WZ5EUUDRRRdddNFPQJ\u002fikiFYR0xAAAAAAAAASUAYXXTRRRdDQA=="},"type":"scatter"},{"hovertemplate":"Jessica Pegula\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jessica Pegula","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Jessica Pegula","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"oENqgvFWU0ALfHH1g45SQB3HcRzHcVNApM37FJcMS0AAAAAAAIBGQA=="},"type":"scatter"},{"hovertemplate":"Karolina Muchova\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Karolina Muchova","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Karolina Muchova","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"Lt\u002fyLd\u002fyUUDjOI7jOA5SQMTkCmJyBVFARRdddNFFS0DKayivobxDQA=="},"type":"scatter"},{"hovertemplate":"Katie Boulter\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Katie Boulter","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Katie Boulter","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"ntiJndjJUUDmFLycgpdNQAAAAAAAAElA11BeQ3kNRUDXUF5DeQ01QA=="},"type":"scatter"},{"hovertemplate":"Madison Keys\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Madison Keys","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Madison Keys","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"AAAAAADAUkBhinzWDWZRQExoL6G9BE9AAAAAAAAgTEAu3\u002fIt3\u002fJBQA=="},"type":"scatter"},{"hovertemplate":"Magdalena Frech\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Magdalena Frech","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Magdalena Frech","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"ZGRkZGRkTkAAAAAAAEBKQOQ4juM4jj5AqqqqqqqqMEDXUF5DeQ0VQA=="},"type":"scatter"},{"hovertemplate":"Marta Kostyuk\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Marta Kostyuk","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Marta Kostyuk","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"AAAAAADAUkCxEzuxE7tPQH0MzsfgfE5AchzHcRzHO0CqqqqqqqpAQA=="},"type":"scatter"},{"hovertemplate":"Mirra Andreeva\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Mirra Andreeva","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Mirra Andreeva","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"AAAAAADAUkAAAAAAAIhTQE\u002fsxE7sxE5AqqqqqqqqUEBP7MRO7MQ+QA=="},"type":"scatter"},{"hovertemplate":"Paula Badosa\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Paula Badosa","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Paula Badosa","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"aawPjfWhT0Dbtm3btu1SQLHc0wjLPVFAq6qqqqqqSkAV+awbTJFBQA=="},"type":"scatter"},{"hovertemplate":"Qinwen Zheng\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Qinwen Zheng","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Qinwen Zheng","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"FDuxEzsxVECSJEmSJIlUQDEMwzAMw01A8fDw8PDwS0BVVVVVVVVCQA=="},"type":"scatter"},{"hovertemplate":"Victoria Azarenka\u003cbr\u003eTier: %{x}\u003cbr\u003eWin Rate: %{y:.1f}%\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Victoria Azarenka","line":{"color":"rgba(150,150,150,0.3)","width":1},"marker":{"size":4},"mode":"lines+markers","name":"Victoria Azarenka","visible":true,"x":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"],"y":{"dtype":"f8","bdata":"EpZ7GmF5VEDEiBEjRoxUQC+66KKLLlJAihbOgFByT0CLLrrooktHQA=="},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Opponent Tier (Weakest → Strongest)"},"categoryorder":"array","categoryarray":["Lower (100+)","Mid-tier (51-100)","Solid (26-50)","Strong (11-25)","Elite (1-10)"]},"margin":{"t":80},"title":{"text":"WTA: Performance Drop-off by Opponent Tier"},"yaxis":{"title":{"text":"Win Rate (%)"}},"height":600,"showlegend":false,"updatemenus":[{"active":0,"bgcolor":"rgba(255,255,255,0.9)","bordercolor":"#ccc","borderwidth":1,"buttons":[{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)","rgba(150,150,150,0.5)"]}],"label":"All Players","method":"update"},{"args":[{"line.width":[4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Anna Kalinskaya","method":"update"},{"args":[{"line.width":[1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Aryna Sabalenka","method":"update"},{"args":[{"line.width":[1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Barbora Krejcikova","method":"update"},{"args":[{"line.width":[1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Beatriz Haddad Maia","method":"update"},{"args":[{"line.width":[1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Coco Gauff","method":"update"},{"args":[{"line.width":[1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Danielle Collins","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Daria Kasatkina","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Diana Shnaider","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Donna Vekic","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Elena Rybakina","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Elina Svitolina","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Emma Navarro","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Iga Swiatek","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Jasmine Paolini","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Jelena Ostapenko","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Jessica Pegula","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Karolina Muchova","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Katie Boulter","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Madison Keys","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Magdalena Frech","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Marta Kostyuk","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Mirra Andreeva","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)"]}],"label":"Paula Badosa","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red","rgba(150,150,150,0.3)"]}],"label":"Qinwen Zheng","method":"update"},{"args":[{"line.width":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4],"line.color":["rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","rgba(150,150,150,0.3)","red"]}],"label":"Victoria Azarenka","method":"update"}],"font":{"size":11},"pad":{"l":10,"t":10},"showactive":true,"x":1.0,"xanchor":"right","y":1.02,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5111f8d2-9f2f-49a1-b694-0cf7fdd6a6f6');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-4-strength-of-schedule" class="level2">
<h2 class="anchored" data-anchor-id="view-4-strength-of-schedule">View 4: Strength of Schedule</h2>
<p>Which players face the toughest competition? This chart shows the average opponent ranking faced by each player.</p>
<div id="cell-15" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_strength_of_schedule(records_df, title):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create bar chart of average opponent ranking"""</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df[records_df[<span class="st">'opponent_rank'</span>].notna()].copy()</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate stats</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    sos_stats <span class="op">=</span> df.groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        avg_opp_rank<span class="op">=</span>(<span class="st">'opponent_rank'</span>, <span class="st">'mean'</span>),</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        median_opp_rank<span class="op">=</span>(<span class="st">'opponent_rank'</span>, <span class="st">'median'</span>),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>),</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    sos_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> sos_stats[<span class="st">'wins'</span>] <span class="op">/</span> sos_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Sort by average opponent rank (lower = tougher schedule)</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    sos_stats <span class="op">=</span> sos_stats.sort_values(<span class="st">'avg_opp_rank'</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure()</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Bar(</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>sos_stats[<span class="st">'player_name'</span>],</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>sos_stats[<span class="st">'avg_opp_rank'</span>],</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        marker_color<span class="op">=</span>sos_stats[<span class="st">'win_pct'</span>],</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>        marker_colorscale<span class="op">=</span><span class="st">'RdYlGn'</span>,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>        marker_cmin<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>        marker_cmax<span class="op">=</span><span class="dv">90</span>,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>        marker_colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Win %'</span>),</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">'&lt;b&gt;%</span><span class="sc">{x}</span><span class="st">&lt;/b&gt;&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Avg Opp Rank: %</span><span class="sc">{y:.1f}</span><span class="st">&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'Win Rate: %</span><span class="sc">{marker.color:.1f}</span><span class="st">%&lt;br&gt;'</span> <span class="op">+</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'&lt;extra&gt;&lt;/extra&gt;'</span>,</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>[<span class="ss">f"</span><span class="sc">{</span>r<span class="sc">:.0f}</span><span class="ss">"</span> <span class="cf">for</span> r <span class="kw">in</span> sos_stats[<span class="st">'avg_opp_rank'</span>]],</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>        textposition<span class="op">=</span><span class="st">'outside'</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span>title,</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>        xaxis_title<span class="op">=</span><span class="st">'Player'</span>,</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>        yaxis_title<span class="op">=</span><span class="st">'Average Opponent Ranking'</span>,</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>        xaxis_tickangle<span class="op">=-</span><span class="dv">45</span>,</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>        yaxis<span class="op">=</span><span class="bu">dict</span>(autorange<span class="op">=</span><span class="st">'reversed'</span>)  <span class="co"># Lower rank = tougher, so reverse</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>fig_sos_atp <span class="op">=</span> create_strength_of_schedule(atp_records, <span class="st">'ATP: Strength of Schedule (Avg Opponent Ranking)'</span>)</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>fig_sos_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="1186ef2b-8142-4e56-8c1f-9a418641cbc3" class="plotly-graph-div" style="height:500px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("1186ef2b-8142-4e56-8c1f-9a418641cbc3")) {                    Plotly.newPlot(                        "1186ef2b-8142-4e56-8c1f-9a418641cbc3",                        [{"hovertemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e\u003cbr\u003eAvg Opp Rank: %{y:.1f}\u003cbr\u003eWin Rate: %{marker.color:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"cmax":90,"cmin":50,"color":{"dtype":"f8","bdata":"Kr8UGMXkVEDfgDJxpftTQDFixIgRI05ArPjvTCjYUUCnwHV87oBRQLlqhtvBU1NAQnsJ7SU0UEA5pQi2sdZQQI7jOI7j6EpAURRFURTFTEAWak4CcaFOQNNZTGcxnURAAt2Yp49WS0C2bdu2bctMQA3Ox+B8DExAvPanu\u002fanTkAhMW9nSMxNQPhrdtQi5EtAAwsssMCCTkAAAAAAAEBPQKCY4cmkXUpA2S\u002fEitL4TEAwiZBqWQdQQM+6wRT5rElAJ6TkWUb0SUA="},"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]]},"text":["49","52","54","55","57","57","58","59","64","65","66","66","66","67","68","69","70","70","74","74","76","77","77","88","90"],"textposition":"outside","x":["Novak Djokovic","Carlos Alcaraz","Jack Draper","Daniil Medvedev","Alexander Zverev","Jannik Sinner","Andrey Rublev","Stefanos Tsitsipas","Ugo Humbert","Karen Khachanov","Grigor Dimitrov","Alexei Popyrin","Lorenzo Musetti","Sebastian Korda","Arthur Fils","Alex De Minaur","Taylor Fritz","Ben Shelton","Hubert Hurkacz","Holger Rune","Frances Tiafoe","Tommy Paul","Casper Ruud","Tomas Machac","Alejandro Tabilo"],"y":{"dtype":"f8","bdata":"9F+PD9KTSEAfGutDYz1KQJ47d+7cOUtAcqnSDFx5S0A2Qf+dKF1MQEoW7ZPfj0xALA9I1rnyTEDfM0QqCHNNQFVVVVVV7U9AjuM4juNYUEATFhXAMWFQQBLcR3AfcVBArwO6MU+fUEAlSZIkSdRQQNJhIx02ElFAvgz5vQxZUUCDHos9B25RQC1C\u002fpoddVFATTTRRBONUkBCCCGEEJpSQHbmYbMlGlNAIpUFuRghU0Aor6G8hlJTQMln3WCK\u002fFVAXvBXcUKKVkA="},"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Player"},"tickangle":-45},"yaxis":{"title":{"text":"Average Opponent Ranking"},"autorange":"reversed"},"title":{"text":"ATP: Strength of Schedule (Avg Opponent Ranking)"},"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('1186ef2b-8142-4e56-8c1f-9a418641cbc3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-16" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fig_sos_wta <span class="op">=</span> create_strength_of_schedule(wta_records, <span class="st">'WTA: Strength of Schedule (Avg Opponent Ranking)'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>fig_sos_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="b8aa0255-c305-49e8-a55a-1f98551ccacc" class="plotly-graph-div" style="height:500px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("b8aa0255-c305-49e8-a55a-1f98551ccacc")) {                    Plotly.newPlot(                        "b8aa0255-c305-49e8-a55a-1f98551ccacc",                        [{"hovertemplate":"\u003cb\u003e%{x}\u003c\u002fb\u003e\u003cbr\u003eAvg Opp Rank: %{y:.1f}\u003cbr\u003eWin Rate: %{marker.color:.1f}%\u003cbr\u003e\u003cextra\u003e\u003c\u002fextra\u003e","marker":{"cmax":90,"cmin":50,"color":{"dtype":"f8","bdata":"WD2sHlZPUUALYnIFMTlQQIUZp\u002fPow1FAt23btm3bUUC+Kwe+KwdUQA8fPnz48E1Au0JzO5VHT0AfSzxB6rFOQHNPIyz3dFFATJHPusEUT0BKp+ZB7vpKQNqEYuTisFBAntiJndg5UEAxYsSIESNOQGRkZGRkZE5AvelNb3qTUEACHZvvhh9JQGSTTTbZ5EpAHQH2WdZ2SkBWVVVVVfVMQImd2Imd2ExAqTZkYrRKTEDuK6t3yYNLQIG4UHMSiE9AAAAAAAAAREA="},"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]]},"text":["55","57","57","58","60","63","64","64","64","66","66","67","68","68","68","68","71","76","82","82","83","87","90","92","97"],"textposition":"outside","x":["Victoria Azarenka","Qinwen Zheng","Coco Gauff","Aryna Sabalenka","Iga Swiatek","Daria Kasatkina","Karolina Muchova","Madison Keys","Elena Rybakina","Paula Badosa","Marta Kostyuk","Jessica Pegula","Elina Svitolina","Danielle Collins","Barbora Krejcikova","Mirra Andreeva","Anna Kalinskaya","Jasmine Paolini","Donna Vekic","Jelena Ostapenko","Emma Navarro","Beatriz Haddad Maia","Katie Boulter","Diana Shnaider","Magdalena Frech"],"y":{"dtype":"f8","bdata":"2h\u002ftj\u002faHS0CTK4jJFWRMQNbkZhVKikxA2CG6f74XTUDBd+XAd+VNQIMGDRo0aE9AobmdyqMDUEDVuBf4Vw1QQJytQ7\u002fZGlBA8K8a9wJ\u002fUEB6kLt+tphQQGisD431oVBAuHzLt3zrUEDLli1btuxQQFhYWFhYGFFAhixkIQsZUUCDyANX0c5RQHzwwQcf\u002fFJAxwLn4BdpVEDe3d3d3ZFUQCu1Uiu1slRAL6y7AoXeVUCfP+Yo3X5WQNScBOJCDVdA2djY2NhYWEA="},"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"title":{"text":"Player"},"tickangle":-45},"yaxis":{"title":{"text":"Average Opponent Ranking"},"autorange":"reversed"},"title":{"text":"WTA: Strength of Schedule (Avg Opponent Ranking)"},"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b8aa0255-c305-49e8-a55a-1f98551ccacc');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-5-surface-x-opponent-quality-matrix" class="level2">
<h2 class="anchored" data-anchor-id="view-5-surface-x-opponent-quality-matrix">View 5: Surface x Opponent Quality Matrix</h2>
<p>Where do players struggle most? This matrix shows win rates across surface types AND opponent tiers, revealing specific weaknesses like “struggles vs top 10 on hard courts”.</p>
<div id="cell-18" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_surface_tier_matrix(records_df, player_name, title):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create surface x opponent tier matrix for a specific player"""</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df[</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        (records_df[<span class="st">'player_name'</span>] <span class="op">==</span> player_name) <span class="op">&amp;</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        (records_df[<span class="st">'opponent_tier'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>) <span class="op">&amp;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>        (records_df[<span class="st">'surface'</span>].isin([<span class="st">'Hard'</span>, <span class="st">'Clay'</span>, <span class="st">'Grass'</span>]))</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    ].copy()</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(df) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    tier_order <span class="op">=</span> [<span class="st">'Elite (1-10)'</span>, <span class="st">'Strong (11-25)'</span>, <span class="st">'Solid (26-50)'</span>, <span class="st">'Mid-tier (51-100)'</span>, <span class="st">'Lower (100+)'</span>]</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    surface_order <span class="op">=</span> [<span class="st">'Hard'</span>, <span class="st">'Clay'</span>, <span class="st">'Grass'</span>]</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate stats</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    matrix_stats <span class="op">=</span> df.groupby([<span class="st">'surface'</span>, <span class="st">'opponent_tier'</span>]).agg(</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    matrix_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> matrix_stats[<span class="st">'wins'</span>] <span class="op">/</span> matrix_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pivot</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    pivot_pct <span class="op">=</span> matrix_stats.pivot(index<span class="op">=</span><span class="st">'surface'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'win_pct'</span>)</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> matrix_stats.pivot(index<span class="op">=</span><span class="st">'surface'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'matches'</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Reorder</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    pivot_pct <span class="op">=</span> pivot_pct.reindex(index<span class="op">=</span>surface_order, columns<span class="op">=</span>tier_order)</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> pivot_matches.reindex(index<span class="op">=</span>surface_order, columns<span class="op">=</span>tier_order)</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create annotations</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>    annotations <span class="op">=</span> []</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, surface <span class="kw">in</span> <span class="bu">enumerate</span>(pivot_pct.index):</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j, tier <span class="kw">in</span> <span class="bu">enumerate</span>(pivot_pct.columns):</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>            pct <span class="op">=</span> pivot_pct.loc[surface, tier]</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>            matches <span class="op">=</span> pivot_matches.loc[surface, tier]</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.notna(pct) <span class="kw">and</span> pd.notna(matches) <span class="kw">and</span> matches <span class="op">&gt;=</span> <span class="dv">1</span>:</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>pct<span class="sc">:.0f}</span><span class="ss">%&lt;br&gt;(</span><span class="sc">{</span><span class="bu">int</span>(matches)<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>                annotations.append(</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">dict</span>(x<span class="op">=</span>tier, y<span class="op">=</span>surface, text<span class="op">=</span>text, showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>                         font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">11</span>, color<span class="op">=</span><span class="st">'white'</span> <span class="cf">if</span> pct <span class="op">&gt;</span> <span class="dv">60</span> <span class="cf">else</span> <span class="st">'black'</span>))</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>pivot_pct.values,</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>pivot_pct.columns.tolist(),</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>pivot_pct.index.tolist(),</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span><span class="st">'RdYlGn'</span>,</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>        colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Win %'</span>)</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>title<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>player_name<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>        xaxis_title<span class="op">=</span><span class="st">'Opponent Tier'</span>,</span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>        yaxis_title<span class="op">=</span><span class="st">'Surface'</span>,</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">350</span>,</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>        annotations<span class="op">=</span>annotations</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_surface_tier_comparison(records_df, tour_name, min_matches<span class="op">=</span><span class="dv">20</span>):</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create dropdown-based surface x tier comparison"""</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>    players <span class="op">=</span> records_df[<span class="st">'player_name'</span>].unique()</span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Start with first player</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> create_surface_tier_matrix(records_df, players[<span class="dv">0</span>], <span class="ss">f'</span><span class="sc">{</span>tour_name<span class="sc">}</span><span class="ss"> Surface x Opponent Tier'</span>)</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create dropdown</span></span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>    buttons <span class="op">=</span> []</span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> player <span class="kw">in</span> <span class="bu">sorted</span>(players):</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>        df <span class="op">=</span> records_df[</span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>            (records_df[<span class="st">'player_name'</span>] <span class="op">==</span> player) <span class="op">&amp;</span> </span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>            (records_df[<span class="st">'opponent_tier'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>) <span class="op">&amp;</span></span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>            (records_df[<span class="st">'surface'</span>].isin([<span class="st">'Hard'</span>, <span class="st">'Clay'</span>, <span class="st">'Grass'</span>]))</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">len</span>(df) <span class="op">&lt;</span> min_matches:</span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a>        tier_order <span class="op">=</span> [<span class="st">'Elite (1-10)'</span>, <span class="st">'Strong (11-25)'</span>, <span class="st">'Solid (26-50)'</span>, <span class="st">'Mid-tier (51-100)'</span>, <span class="st">'Lower (100+)'</span>]</span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>        surface_order <span class="op">=</span> [<span class="st">'Hard'</span>, <span class="st">'Clay'</span>, <span class="st">'Grass'</span>]</span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>        matrix_stats <span class="op">=</span> df.groupby([<span class="st">'surface'</span>, <span class="st">'opponent_tier'</span>]).agg(</span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>            wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>            matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>        ).reset_index()</span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>        matrix_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> matrix_stats[<span class="st">'wins'</span>] <span class="op">/</span> matrix_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>        pivot_pct <span class="op">=</span> matrix_stats.pivot(index<span class="op">=</span><span class="st">'surface'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'win_pct'</span>)</span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a>        pivot_pct <span class="op">=</span> pivot_pct.reindex(index<span class="op">=</span>surface_order, columns<span class="op">=</span>tier_order)</span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>        buttons.append(<span class="bu">dict</span>(</span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>            label<span class="op">=</span>player,</span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>            method<span class="op">=</span><span class="st">'update'</span>,</span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>            args<span class="op">=</span>[{<span class="st">'z'</span>: [pivot_pct.values]},</span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a>                  {<span class="st">'title'</span>: <span class="ss">f'</span><span class="sc">{</span>tour_name<span class="sc">}</span><span class="ss"> Surface x Opponent Tier: </span><span class="sc">{</span>player<span class="sc">}</span><span class="ss">'</span>}]</span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a>        ))</span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> fig:</span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a>        fig.update_layout(</span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a>            updatemenus<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a>                active<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a>                buttons<span class="op">=</span>buttons,</span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a>                x<span class="op">=</span><span class="fl">0.0</span>,</span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a>                xanchor<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a>                y<span class="op">=</span><span class="fl">1.02</span>,</span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a>                yanchor<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a>                bgcolor<span class="op">=</span><span class="st">'rgba(255,255,255,0.9)'</span>,</span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a>                bordercolor<span class="op">=</span><span class="st">'#ccc'</span>,</span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a>                borderwidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a>                font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">11</span>),</span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a>                pad<span class="op">=</span><span class="bu">dict</span>(r<span class="op">=</span><span class="dv">10</span>, t<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a>            )],</span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a>            margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>)</span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Show for top players</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a>fig_surf_atp <span class="op">=</span> create_surface_tier_comparison(atp_records, <span class="st">'ATP'</span>)</span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_surf_atp:</span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a>    fig_surf_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="e972ce20-3e5f-44f5-bf51-a7e815856e1c" class="plotly-graph-div" style="height:350px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e972ce20-3e5f-44f5-bf51-a7e815856e1c")) {                    Plotly.newPlot(                        "e972ce20-3e5f-44f5-bf51-a7e815856e1c",                        [{"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Hard","Clay","Grass"],"z":{"dtype":"f8","bdata":"ZoJomSBaUkBOa7ZPVA9UQGrYbpYnEVdAhjDbhTDbV0DkOI7jOA5XQDiO4ziO40xAxhhjjDHGVUDbtm3btm1VQJLPusEU+VZAAAAAAADgVUC0l9BeQntPQKqqqqqq6lZA8lk3mCKfVUCHh4eHh4dXQMdxHMdxnFdA","shape":"3, 5"},"zmax":100,"zmin":0,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"ATP Surface x Opponent Tier: Novak Djokovic"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Surface"}},"height":350,"annotations":[{"font":{"color":"white","size":11},"showarrow":false,"text":"73%\u003cbr\u003e(267)","x":"Elite (1-10)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"80%\u003cbr\u003e(167)","x":"Strong (11-25)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"92%\u003cbr\u003e(194)","x":"Solid (26-50)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"95%\u003cbr\u003e(153)","x":"Mid-tier (51-100)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"92%\u003cbr\u003e(90)","x":"Lower (100+)","y":"Hard"},{"font":{"color":"black","size":11},"showarrow":false,"text":"58%\u003cbr\u003e(90)","x":"Elite (1-10)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"87%\u003cbr\u003e(62)","x":"Strong (11-25)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"86%\u003cbr\u003e(84)","x":"Solid (26-50)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"92%\u003cbr\u003e(74)","x":"Mid-tier (51-100)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"88%\u003cbr\u003e(48)","x":"Lower (100+)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"63%\u003cbr\u003e(27)","x":"Elite (1-10)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"92%\u003cbr\u003e(24)","x":"Strong (11-25)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"86%\u003cbr\u003e(37)","x":"Solid (26-50)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"94%\u003cbr\u003e(34)","x":"Mid-tier (51-100)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"94%\u003cbr\u003e(18)","x":"Lower (100+)","y":"Grass"}],"margin":{"t":80},"updatemenus":[{"active":0,"bgcolor":"rgba(255,255,255,0.9)","bordercolor":"#ccc","borderwidth":1,"buttons":[{"args":[{"z":[[[0.0,20.0,53.84615384615385,60.86956521739131,70.58823529411765],[33.33333333333333,33.33333333333333,40.0,45.0,84.61538461538461],[null,0.0,75.0,83.33333333333334,null]]]},{"title":"ATP Surface x Opponent Tier: Alejandro Tabilo"}],"label":"Alejandro Tabilo","method":"update"},{"args":[{"z":[[[26.984126984126984,57.446808510638306,73.80952380952381,70.93023255813954,83.33333333333334],[18.181818181818183,28.57142857142857,71.42857142857143,59.09090909090909,44.44444444444444],[20.0,66.66666666666666,66.66666666666666,70.58823529411765,75.0]]]},{"title":"ATP Surface x Opponent Tier: Alex De Minaur"}],"label":"Alex De Minaur","method":"update"},{"args":[{"z":[[[45.65217391304348,67.04545454545455,78.94736842105263,71.57894736842105,90.19607843137256],[41.17647058823529,64.51612903225806,82.35294117647058,79.66101694915254,90.625],[20.0,50.0,55.55555555555556,94.73684210526315,61.53846153846154]]]},{"title":"ATP Surface x Opponent Tier: Alexander Zverev"}],"label":"Alexander Zverev","method":"update"},{"args":[{"z":[[[41.66666666666667,28.000000000000004,34.883720930232556,48.888888888888886,56.00000000000001],[33.33333333333333,50.0,28.57142857142857,36.84210526315789,77.77777777777779],[0.0,0.0,66.66666666666666,40.0,0.0]]]},{"title":"ATP Surface x Opponent Tier: Alexei Popyrin"}],"label":"Alexei Popyrin","method":"update"},{"args":[{"z":[[[32.72727272727273,49.152542372881356,69.0909090909091,74.16666666666667,85.1063829787234],[61.53846153846154,61.111111111111114,57.14285714285714,78.37837837837837,64.70588235294117],[0.0,50.0,66.66666666666666,75.0,75.0]]]},{"title":"ATP Surface x Opponent Tier: Andrey Rublev"}],"label":"Andrey Rublev","method":"update"},{"args":[{"z":[[[33.33333333333333,60.0,46.666666666666664,53.57142857142857,73.33333333333333],[75.0,60.0,25.0,76.92307692307693,28.57142857142857],[33.33333333333333,0.0,66.66666666666666,66.66666666666666,100.0]]]},{"title":"ATP Surface x Opponent Tier: Arthur Fils"}],"label":"Arthur Fils","method":"update"},{"args":[{"z":[[[28.57142857142857,47.368421052631575,61.904761904761905,71.875,75.0],[0.0,25.0,50.0,55.55555555555556,66.66666666666666],[0.0,0.0,100.0,25.0,66.66666666666666]]]},{"title":"ATP Surface x Opponent Tier: Ben Shelton"}],"label":"Ben Shelton","method":"update"},{"args":[{"z":[[[68.08510638297872,71.875,83.78378378378379,82.35294117647058,85.71428571428571],[64.70588235294117,90.0,87.5,83.33333333333334,83.33333333333334],[83.33333333333334,75.0,88.88888888888889,100.0,100.0]]]},{"title":"ATP Surface x Opponent Tier: Carlos Alcaraz"}],"label":"Carlos Alcaraz","method":"update"},{"args":[{"z":[[[32.35294117647059,47.368421052631575,63.26530612244898,53.333333333333336,77.5],[42.857142857142854,66.66666666666666,78.43137254901961,77.94117647058823,84.84848484848484],[0.0,0.0,100.0,50.0,40.0]]]},{"title":"ATP Surface x Opponent Tier: Casper Ruud"}],"label":"Casper Ruud","method":"update"},{"args":[{"z":[[[47.674418604651166,72.15189873417721,79.41176470588235,87.75510204081633,87.5],[62.5,33.33333333333333,54.166666666666664,76.47058823529412,44.44444444444444],[50.0,46.15384615384615,69.56521739130434,82.35294117647058,77.77777777777779]]]},{"title":"ATP Surface x Opponent Tier: Daniil Medvedev"}],"label":"Daniil Medvedev","method":"update"},{"args":[{"z":[[[27.906976744186046,37.254901960784316,55.35714285714286,65.95744680851064,65.07936507936508],[0.0,33.33333333333333,42.857142857142854,46.875,64.70588235294117],[33.33333333333333,40.0,53.84615384615385,69.23076923076923,57.14285714285714]]]},{"title":"ATP Surface x Opponent Tier: Frances Tiafoe"}],"label":"Frances Tiafoe","method":"update"},{"args":[{"z":[[[33.33333333333333,54.63917525773196,75.40983606557377,70.54263565891473,74.6268656716418],[30.0,37.5,58.536585365853654,70.58823529411765,82.35294117647058],[30.0,50.0,45.45454545454545,81.81818181818183,72.22222222222221]]]},{"title":"ATP Surface x Opponent Tier: Grigor Dimitrov"}],"label":"Grigor Dimitrov","method":"update"},{"args":[{"z":[[[40.909090909090914,45.45454545454545,76.31578947368422,68.29268292682927,67.74193548387096],[50.0,42.857142857142854,50.0,70.37037037037037,80.0],[0.0,50.0,66.66666666666666,66.66666666666666,80.0]]]},{"title":"ATP Surface x Opponent Tier: Holger Rune"}],"label":"Holger Rune","method":"update"},{"args":[{"z":[[[37.5,41.30434782608695,62.264150943396224,64.17910447761194,87.75510204081633],[0.0,40.0,70.83333333333334,72.72727272727273,73.33333333333333],[55.55555555555556,50.0,58.333333333333336,78.57142857142857,66.66666666666666]]]},{"title":"ATP Surface x Opponent Tier: Hubert Hurkacz"}],"label":"Hubert Hurkacz","method":"update"},{"args":[{"z":[[[35.714285714285715,46.15384615384615,69.56521739130434,78.57142857142857,69.23076923076923],[0.0,0.0,50.0,100.0,75.0],[50.0,75.0,57.14285714285714,66.66666666666666,100.0]]]},{"title":"ATP Surface x Opponent Tier: Jack Draper"}],"label":"Jack Draper","method":"update"},{"args":[{"z":[[[71.875,73.91304347826086,82.6923076923077,87.14285714285714,86.8421052631579],[36.84210526315789,75.0,75.0,82.6086956521739,83.33333333333334],[40.0,100.0,63.63636363636363,87.5,75.0]]]},{"title":"ATP Surface x Opponent Tier: Jannik Sinner"}],"label":"Jannik Sinner","method":"update"},{"args":[{"z":[[[22.916666666666664,40.35087719298245,60.0,68.08510638297872,81.13207547169812],[21.052631578947366,65.0,36.36363636363637,69.44444444444444,85.71428571428571],[20.0,0.0,85.71428571428571,82.35294117647058,75.0]]]},{"title":"ATP Surface x Opponent Tier: Karen Khachanov"}],"label":"Karen Khachanov","method":"update"},{"args":[{"z":[[[28.57142857142857,47.368421052631575,32.142857142857146,52.38095238095239,65.51724137931035],[27.27272727272727,75.0,85.71428571428571,63.63636363636363,63.1578947368421],[33.33333333333333,28.57142857142857,60.0,87.5,100.0]]]},{"title":"ATP Surface x Opponent Tier: Lorenzo Musetti"}],"label":"Lorenzo Musetti","method":"update"},{"args":[{"z":[[[73.40823970037454,80.23952095808383,92.26804123711341,95.42483660130719,92.22222222222223],[57.77777777777777,87.09677419354838,85.71428571428571,91.8918918918919,87.5],[62.96296296296296,91.66666666666666,86.48648648648648,94.11764705882352,94.44444444444444]]]},{"title":"ATP Surface x Opponent Tier: Novak Djokovic"}],"label":"Novak Djokovic","method":"update"},{"args":[{"z":[[[26.31578947368421,45.45454545454545,60.0,68.88888888888889,72.0],[16.666666666666664,60.0,60.0,73.33333333333333,45.45454545454545],[60.0,75.0,50.0,60.0,66.66666666666666]]]},{"title":"ATP Surface x Opponent Tier: Sebastian Korda"}],"label":"Sebastian Korda","method":"update"},{"args":[{"z":[[[38.59649122807017,61.81818181818181,68.13186813186813,74.4186046511628,79.06976744186046],[42.857142857142854,77.77777777777779,90.32258064516128,82.5,94.11764705882352],[0.0,66.66666666666666,33.33333333333333,57.89473684210527,70.0]]]},{"title":"ATP Surface x Opponent Tier: Stefanos Tsitsipas"}],"label":"Stefanos Tsitsipas","method":"update"},{"args":[{"z":[[[43.54838709677419,52.083333333333336,61.44578313253012,63.63636363636363,76.27118644067797],[25.0,60.0,47.05882352941176,71.42857142857143,70.58823529411765],[16.666666666666664,28.57142857142857,60.0,71.42857142857143,72.72727272727273]]]},{"title":"ATP Surface x Opponent Tier: Taylor Fritz"}],"label":"Taylor Fritz","method":"update"},{"args":[{"z":[[[23.076923076923077,41.17647058823529,80.0,65.0,50.0],[25.0,0.0,66.66666666666666,80.0,75.0],[null,0.0,0.0,100.0,null]]]},{"title":"ATP Surface x Opponent Tier: Tomas Machac"}],"label":"Tomas Machac","method":"update"},{"args":[{"z":[[[31.25,53.65853658536586,54.54545454545454,66.17647058823529,76.59574468085107],[25.0,0.0,50.0,66.66666666666666,60.0],[0.0,54.54545454545454,77.77777777777779,66.66666666666666,87.5]]]},{"title":"ATP Surface x Opponent Tier: Tommy Paul"}],"label":"Tommy Paul","method":"update"},{"args":[{"z":[[[45.83333333333333,55.26315789473685,50.0,64.28571428571429,71.05263157894737],[50.0,11.11111111111111,26.666666666666668,41.66666666666667,50.0],[50.0,50.0,50.0,50.0,75.0]]]},{"title":"ATP Surface x Opponent Tier: Ugo Humbert"}],"label":"Ugo Humbert","method":"update"}],"font":{"size":11},"pad":{"r":10,"t":10},"x":0.0,"xanchor":"left","y":1.02,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e972ce20-3e5f-44f5-bf51-a7e815856e1c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-19" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>fig_surf_wta <span class="op">=</span> create_surface_tier_comparison(wta_records, <span class="st">'WTA'</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_surf_wta:</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    fig_surf_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="d34da165-45a4-4650-a1c5-261d80d130bb" class="plotly-graph-div" style="height:350px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("d34da165-45a4-4650-a1c5-261d80d130bb")) {                    Plotly.newPlot(                        "d34da165-45a4-4650-a1c5-261d80d130bb",                        [{"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Hard","Clay","Grass"],"z":{"dtype":"f8","bdata":"tNlsNpvNSED2pje96U1PQC+hvYT2ElNAPo2w3NMIVUBTT8Zvl3pVQFtrrbXWWkNAAAAAAACwTUD1pje96U1QQBrrQ2N9aFRATuzETuxEUkAdx3Ecx3FDQAAAAAAAwFJAAAAAAAAwUUAAAAAAAABSQMprKK+hvFNA","shape":"3, 5"},"zmax":100,"zmin":0,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"WTA Surface x Opponent Tier: Victoria Azarenka"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Surface"}},"height":350,"annotations":[{"font":{"color":"black","size":11},"showarrow":false,"text":"50%\u003cbr\u003e(127)","x":"Elite (1-10)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"63%\u003cbr\u003e(115)","x":"Strong (11-25)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"76%\u003cbr\u003e(135)","x":"Solid (26-50)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"84%\u003cbr\u003e(145)","x":"Mid-tier (51-100)","y":"Hard"},{"font":{"color":"white","size":11},"showarrow":false,"text":"86%\u003cbr\u003e(71)","x":"Lower (100+)","y":"Hard"},{"font":{"color":"black","size":11},"showarrow":false,"text":"39%\u003cbr\u003e(31)","x":"Elite (1-10)","y":"Clay"},{"font":{"color":"black","size":11},"showarrow":false,"text":"59%\u003cbr\u003e(32)","x":"Strong (11-25)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"65%\u003cbr\u003e(46)","x":"Solid (26-50)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"82%\u003cbr\u003e(49)","x":"Mid-tier (51-100)","y":"Clay"},{"font":{"color":"white","size":11},"showarrow":false,"text":"73%\u003cbr\u003e(26)","x":"Lower (100+)","y":"Clay"},{"font":{"color":"black","size":11},"showarrow":false,"text":"39%\u003cbr\u003e(18)","x":"Elite (1-10)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"75%\u003cbr\u003e(12)","x":"Strong (11-25)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"69%\u003cbr\u003e(16)","x":"Solid (26-50)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"72%\u003cbr\u003e(25)","x":"Mid-tier (51-100)","y":"Grass"},{"font":{"color":"white","size":11},"showarrow":false,"text":"79%\u003cbr\u003e(19)","x":"Lower (100+)","y":"Grass"}],"margin":{"t":80},"updatemenus":[{"active":0,"bgcolor":"rgba(255,255,255,0.9)","bordercolor":"#ccc","borderwidth":1,"buttons":[{"args":[{"z":[[[47.05882352941176,30.76923076923077,47.22222222222222,73.68421052631578,61.29032258064516],[33.33333333333333,25.0,42.857142857142854,50.0,33.33333333333333],[50.0,50.0,40.0,20.0,66.66666666666666]]]},{"title":"WTA Surface x Opponent Tier: Anna Kalinskaya"}],"label":"Anna Kalinskaya","method":"update"},{"args":[{"z":[[[56.92307692307692,72.72727272727273,76.5432098765432,77.33333333333333,85.36585365853658],[47.368421052631575,80.0,62.96296296296296,77.27272727272727,88.88888888888889],[25.0,66.66666666666666,54.54545454545454,66.66666666666666,77.77777777777779]]]},{"title":"WTA Surface x Opponent Tier: Aryna Sabalenka"}],"label":"Aryna Sabalenka","method":"update"},{"args":[{"z":[[[40.74074074074074,40.625,68.0,64.86486486486487,76.19047619047619],[28.57142857142857,33.33333333333333,81.81818181818183,62.5,69.23076923076923],[66.66666666666666,66.66666666666666,50.0,90.0,66.66666666666666]]]},{"title":"WTA Surface x Opponent Tier: Barbora Krejcikova"}],"label":"Barbora Krejcikova","method":"update"},{"args":[{"z":[[[46.666666666666664,36.666666666666664,52.63157894736842,57.446808510638306,72.22222222222221],[50.0,42.857142857142854,50.0,60.0,62.5],[50.0,33.33333333333333,63.63636363636363,72.72727272727273,75.0]]]},{"title":"WTA Surface x Opponent Tier: Beatriz Haddad Maia"}],"label":"Beatriz Haddad Maia","method":"update"},{"args":[{"z":[[[47.72727272727273,54.54545454545454,72.91666666666666,87.5,90.9090909090909],[45.45454545454545,45.45454545454545,66.66666666666666,100.0,91.66666666666666],[50.0,33.33333333333333,66.66666666666666,85.71428571428571,88.88888888888889]]]},{"title":"WTA Surface x Opponent Tier: Coco Gauff"}],"label":"Coco Gauff","method":"update"},{"args":[{"z":[[[38.23529411764706,50.0,51.06382978723404,68.08510638297872,86.11111111111111],[23.076923076923077,58.333333333333336,71.42857142857143,72.22222222222221,82.6086956521739],[0.0,33.33333333333333,33.33333333333333,55.55555555555556,100.0]]]},{"title":"WTA Surface x Opponent Tier: Danielle Collins"}],"label":"Danielle Collins","method":"update"},{"args":[{"z":[[[35.41666666666667,47.540983606557376,61.36363636363637,64.36781609195403,75.51020408163265],[37.5,38.095238095238095,70.83333333333334,71.42857142857143,78.94736842105263],[42.857142857142854,44.44444444444444,57.14285714285714,77.77777777777779,100.0]]]},{"title":"WTA Surface x Opponent Tier: Daria Kasatkina"}],"label":"Daria Kasatkina","method":"update"},{"args":[{"z":[[[10.0,60.0,50.0,71.42857142857143,93.75],[null,66.66666666666666,33.33333333333333,75.0,60.0],[null,50.0,71.42857142857143,null,100.0]]]},{"title":"WTA Surface x Opponent Tier: Diana Shnaider"}],"label":"Diana Shnaider","method":"update"},{"args":[{"z":[[[28.57142857142857,20.930232558139537,54.6875,57.57575757575758,69.33333333333334],[11.11111111111111,57.14285714285714,37.5,56.25,69.23076923076923],[33.33333333333333,42.857142857142854,60.0,76.92307692307693,70.58823529411765]]]},{"title":"WTA Surface x Opponent Tier: Donna Vekic"}],"label":"Donna Vekic","method":"update"},{"args":[{"z":[[[55.55555555555556,62.22222222222222,62.745098039215684,73.33333333333333,93.93939393939394],[50.0,60.0,57.14285714285714,88.88888888888889,84.21052631578947],[40.0,57.14285714285714,62.5,100.0,87.5]]]},{"title":"WTA Surface x Opponent Tier: Elena Rybakina"}],"label":"Elena Rybakina","method":"update"},{"args":[{"z":[[[45.07042253521127,50.63291139240506,58.69565217391305,84.31372549019608,82.92682926829268],[40.0,53.333333333333336,61.29032258064516,76.59574468085107,79.3103448275862],[50.0,37.5,63.63636363636363,54.54545454545454,66.66666666666666]]]},{"title":"WTA Surface x Opponent Tier: Elina Svitolina"}],"label":"Elina Svitolina","method":"update"},{"args":[{"z":[[[40.0,70.0,52.63157894736842,61.53846153846154,60.0],[0.0,25.0,25.0,66.66666666666666,75.0],[33.33333333333333,0.0,50.0,83.33333333333334,100.0]]]},{"title":"WTA Surface x Opponent Tier: Emma Navarro"}],"label":"Emma Navarro","method":"update"},{"args":[{"z":[[[62.5,68.0,77.96610169491525,95.1219512195122,93.93939393939394],[72.72727272727273,94.73684210526315,88.88888888888889,91.66666666666666,94.11764705882352],[null,50.0,50.0,72.72727272727273,100.0]]]},{"title":"WTA Surface x Opponent Tier: Iga Swiatek"}],"label":"Iga Swiatek","method":"update"},{"args":[{"z":[[[30.434782608695656,41.37931034482759,65.625,53.191489361702125,77.77777777777779],[25.0,33.33333333333333,27.77777777777778,68.18181818181817,64.0],[0.0,50.0,60.0,100.0,50.0]]]},{"title":"WTA Surface x Opponent Tier: Jasmine Paolini"}],"label":"Jasmine Paolini","method":"update"},{"args":[{"z":[[[40.0,42.5531914893617,51.388888888888886,63.73626373626373,66.19718309859155],[26.666666666666668,57.14285714285714,62.5,61.53846153846154,72.72727272727273],[60.0,69.23076923076923,65.38461538461539,66.66666666666666,80.0]]]},{"title":"WTA Surface x Opponent Tier: Jelena Ostapenko"}],"label":"Jelena Ostapenko","method":"update"},{"args":[{"z":[[[48.0,54.347826086956516,80.43478260869566,75.71428571428571,82.5],[14.285714285714285,50.0,83.33333333333334,73.33333333333333,57.14285714285714],[66.66666666666666,66.66666666666666,50.0,66.66666666666666,50.0]]]},{"title":"WTA Surface x Opponent Tier: Jessica Pegula"}],"label":"Jessica Pegula","method":"update"},{"args":[{"z":[[[34.48275862068966,56.52173913043478,78.125,71.42857142857143,63.63636363636363],[66.66666666666666,60.0,33.33333333333333,71.42857142857143,86.66666666666667],[33.33333333333333,40.0,66.66666666666666,75.0,50.0]]]},{"title":"WTA Surface x Opponent Tier: Karolina Muchova"}],"label":"Karolina Muchova","method":"update"},{"args":[{"z":[[[8.333333333333332,50.0,57.14285714285714,51.61290322580645,70.58823529411765],[null,null,null,0.0,0.0],[42.857142857142854,20.0,28.57142857142857,76.47058823529412,86.66666666666667]]]},{"title":"WTA Surface x Opponent Tier: Katie Boulter"}],"label":"Katie Boulter","method":"update"},{"args":[{"z":[[[33.33333333333333,57.74647887323944,56.92307692307692,67.44186046511628,70.58823529411765],[37.5,47.368421052631575,62.96296296296296,69.04761904761905,81.81818181818183],[50.0,66.66666666666666,81.25,80.0,80.0]]]},{"title":"WTA Surface x Opponent Tier: Madison Keys"}],"label":"Madison Keys","method":"update"},{"args":[{"z":[[[10.0,25.0,21.052631578947366,45.83333333333333,59.375],[0.0,0.0,40.0,50.0,66.66666666666666],[0.0,0.0,42.857142857142854,83.33333333333334,50.0]]]},{"title":"WTA Surface x Opponent Tier: Magdalena Frech"}],"label":"Magdalena Frech","method":"update"},{"args":[{"z":[[[26.08695652173913,25.0,66.66666666666666,75.0,78.57142857142857],[44.44444444444444,40.0,42.857142857142854,42.857142857142854,75.0],[100.0,28.57142857142857,50.0,50.0,50.0]]]},{"title":"WTA Surface x Opponent Tier: Marta Kostyuk"}],"label":"Marta Kostyuk","method":"update"},{"args":[{"z":[[[25.0,60.0,71.42857142857143,70.0,87.5],[40.0,80.0,50.0,100.0,71.42857142857143],[null,66.66666666666666,50.0,66.66666666666666,0.0]]]},{"title":"WTA Surface x Opponent Tier: Mirra Andreeva"}],"label":"Mirra Andreeva","method":"update"},{"args":[{"z":[[[36.36363636363637,58.620689655172406,66.66666666666666,71.42857142857143,55.55555555555556],[35.714285714285715,50.0,78.57142857142857,80.0,84.61538461538461],[0.0,25.0,62.5,100.0,55.55555555555556]]]},{"title":"WTA Surface x Opponent Tier: Paula Badosa"}],"label":"Paula Badosa","method":"update"},{"args":[{"z":[[[40.909090909090914,58.333333333333336,54.166666666666664,90.0,83.33333333333334],[28.57142857142857,71.42857142857143,69.23076923076923,78.26086956521739,90.9090909090909],[0.0,0.0,60.0,33.33333333333333,33.33333333333333]]]},{"title":"WTA Surface x Opponent Tier: Qinwen Zheng"}],"label":"Qinwen Zheng","method":"update"},{"args":[{"z":[[[49.60629921259843,62.60869565217392,76.29629629629629,84.13793103448276,85.91549295774648],[38.70967741935484,59.375,65.21739130434783,81.63265306122449,73.07692307692307],[38.88888888888889,75.0,68.75,72.0,78.94736842105263]]]},{"title":"WTA Surface x Opponent Tier: Victoria Azarenka"}],"label":"Victoria Azarenka","method":"update"}],"font":{"size":11},"pad":{"r":10,"t":10},"x":0.0,"xanchor":"left","y":1.02,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d34da165-45a4-4650-a1c5-261d80d130bb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-6-tournament-level-breakdown" class="level2">
<h2 class="anchored" data-anchor-id="view-6-tournament-level-breakdown">View 6: Tournament-Level Breakdown</h2>
<p>Do players perform differently at major tournaments? This view compares performance against each opponent tier at different tournament levels: Grand Slams, Masters 1000, and smaller events.</p>
<div id="cell-21" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_tourney_category(level):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Categorize tournament level"""</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> level <span class="op">==</span> <span class="st">'G'</span>:</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Grand Slam'</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> level <span class="op">==</span> <span class="st">'M'</span>:</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Masters 1000'</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> level <span class="kw">in</span> [<span class="st">'A'</span>, <span class="st">'T1'</span>, <span class="st">'T2'</span>]:</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'ATP 500/250 (WTA 500+)'</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Other'</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_tournament_tier_breakdown(records_df, title, min_matches<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create tournament level x opponent tier breakdown"""</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df.copy()</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'tourney_category'</span>] <span class="op">=</span> df[<span class="st">'tourney_level'</span>].<span class="bu">apply</span>(get_tourney_category)</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df[(df[<span class="st">'opponent_tier'</span>] <span class="op">!=</span> <span class="st">'Unknown'</span>) <span class="op">&amp;</span> (df[<span class="st">'tourney_category'</span>] <span class="op">!=</span> <span class="st">'Other'</span>)]</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    tier_order <span class="op">=</span> [<span class="st">'Elite (1-10)'</span>, <span class="st">'Strong (11-25)'</span>, <span class="st">'Solid (26-50)'</span>, <span class="st">'Mid-tier (51-100)'</span>, <span class="st">'Lower (100+)'</span>]</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    tourney_order <span class="op">=</span> [<span class="st">'Grand Slam'</span>, <span class="st">'Masters 1000'</span>, <span class="st">'ATP 500/250 (WTA 500+)'</span>]</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate overall stats by tournament category and tier</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    overall_stats <span class="op">=</span> df.groupby([<span class="st">'tourney_category'</span>, <span class="st">'opponent_tier'</span>]).agg(</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    overall_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> overall_stats[<span class="st">'wins'</span>] <span class="op">/</span> overall_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pivot</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    pivot <span class="op">=</span> overall_stats.pivot(index<span class="op">=</span><span class="st">'tourney_category'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'win_pct'</span>)</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> overall_stats.pivot(index<span class="op">=</span><span class="st">'tourney_category'</span>, columns<span class="op">=</span><span class="st">'opponent_tier'</span>, values<span class="op">=</span><span class="st">'matches'</span>)</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>    pivot <span class="op">=</span> pivot.reindex(index<span class="op">=</span>tourney_order, columns<span class="op">=</span>tier_order)</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>    pivot_matches <span class="op">=</span> pivot_matches.reindex(index<span class="op">=</span>tourney_order, columns<span class="op">=</span>tier_order)</span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create annotations</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>    annotations <span class="op">=</span> []</span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, tourney <span class="kw">in</span> <span class="bu">enumerate</span>(pivot.index):</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j, tier <span class="kw">in</span> <span class="bu">enumerate</span>(pivot.columns):</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>            pct <span class="op">=</span> pivot.loc[tourney, tier]</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>            matches <span class="op">=</span> pivot_matches.loc[tourney, tier]</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> pd.notna(pct) <span class="kw">and</span> pd.notna(matches) <span class="kw">and</span> matches <span class="op">&gt;=</span> min_matches:</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>                text <span class="op">=</span> <span class="ss">f"</span><span class="sc">{</span>pct<span class="sc">:.0f}</span><span class="ss">%&lt;br&gt;(</span><span class="sc">{</span><span class="bu">int</span>(matches)<span class="sc">}</span><span class="ss">)"</span></span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>                annotations.append(</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>                    <span class="bu">dict</span>(x<span class="op">=</span>tier, y<span class="op">=</span>tourney, text<span class="op">=</span>text, showarrow<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>                         font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'white'</span> <span class="cf">if</span> pct <span class="op">&gt;</span> <span class="dv">55</span> <span class="cf">else</span> <span class="st">'black'</span>))</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>go.Heatmap(</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>pivot.values,</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>pivot.columns.tolist(),</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>pivot.index.tolist(),</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span><span class="st">'RdYlGn'</span>,</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span><span class="dv">30</span>,</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span><span class="dv">90</span>,</span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>        colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Win %'</span>)</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>title<span class="sc">}</span><span class="ss"> - Overall Performance"</span>,</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>        xaxis_title<span class="op">=</span><span class="st">'Opponent Tier'</span>,</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>        yaxis_title<span class="op">=</span><span class="st">'Tournament Level'</span>,</span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">400</span>,</span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>        annotations<span class="op">=</span>annotations</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>fig_tourney_atp <span class="op">=</span> create_tournament_tier_breakdown(atp_records, <span class="st">'ATP: Tournament Level Breakdown'</span>)</span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>fig_tourney_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="bb8bfee5-207e-4784-851e-2559082c537e" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("bb8bfee5-207e-4784-851e-2559082c537e")) {                    Plotly.newPlot(                        "bb8bfee5-207e-4784-851e-2559082c537e",                        [{"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Grand Slam","Masters 1000","ATP 500\u002f250 (WTA 500+)"],"z":{"dtype":"f8","bdata":"yjIeBNLWQ0BNq3wx\u002fBNQQJTXUF5D+VBA5wDyWB25VEAAAAAAAOBVQPxBuhrAJEhAX2VxRruHTUC+bE9ZpmhSQFFeQ3kNDVJA8nsZ8nsZUkDyWTeYIp9FQFu2bNmyZUtAIWtH2uaZUEDc2qJsNRtRQNtxeXDvh1JA","shape":"3, 5"},"zmax":90,"zmin":30,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"ATP: Tournament Level Breakdown - Overall Performance"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Tournament Level"}},"height":400,"annotations":[{"font":{"color":"black","size":10},"showarrow":false,"text":"40%\u003cbr\u003e(373)","x":"Elite (1-10)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"64%\u003cbr\u003e(269)","x":"Strong (11-25)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"68%\u003cbr\u003e(380)","x":"Solid (26-50)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"83%\u003cbr\u003e(567)","x":"Mid-tier (51-100)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"88%\u003cbr\u003e(400)","x":"Lower (100+)","y":"Grand Slam"},{"font":{"color":"black","size":10},"showarrow":false,"text":"48%\u003cbr\u003e(613)","x":"Elite (1-10)","y":"Masters 1000"},{"font":{"color":"white","size":10},"showarrow":false,"text":"59%\u003cbr\u003e(596)","x":"Strong (11-25)","y":"Masters 1000"},{"font":{"color":"white","size":10},"showarrow":false,"text":"74%\u003cbr\u003e(751)","x":"Solid (26-50)","y":"Masters 1000"},{"font":{"color":"white","size":10},"showarrow":false,"text":"72%\u003cbr\u003e(608)","x":"Mid-tier (51-100)","y":"Masters 1000"},{"font":{"color":"white","size":10},"showarrow":false,"text":"72%\u003cbr\u003e(221)","x":"Lower (100+)","y":"Masters 1000"},{"font":{"color":"black","size":10},"showarrow":false,"text":"43%\u003cbr\u003e(444)","x":"Elite (1-10)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"black","size":10},"showarrow":false,"text":"55%\u003cbr\u003e(657)","x":"Strong (11-25)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"66%\u003cbr\u003e(1018)","x":"Solid (26-50)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"68%\u003cbr\u003e(1289)","x":"Mid-tier (51-100)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"74%\u003cbr\u003e(742)","x":"Lower (100+)","y":"ATP 500\u002f250 (WTA 500+)"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('bb8bfee5-207e-4784-851e-2559082c537e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>fig_tourney_wta <span class="op">=</span> create_tournament_tier_breakdown(wta_records, <span class="st">'WTA: Tournament Level Breakdown'</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>fig_tourney_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="86ffe469-a426-485c-bb8b-ff62b096e72c" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("86ffe469-a426-485c-bb8b-ff62b096e72c")) {                    Plotly.newPlot(                        "86ffe469-a426-485c-bb8b-ff62b096e72c",                        [{"colorbar":{"title":{"text":"Win %"}},"colorscale":[[0.0,"rgb(165,0,38)"],[0.1,"rgb(215,48,39)"],[0.2,"rgb(244,109,67)"],[0.3,"rgb(253,174,97)"],[0.4,"rgb(254,224,139)"],[0.5,"rgb(255,255,191)"],[0.6,"rgb(217,239,139)"],[0.7,"rgb(166,217,106)"],[0.8,"rgb(102,189,99)"],[0.9,"rgb(26,152,80)"],[1.0,"rgb(0,104,55)"]],"x":["Elite (1-10)","Strong (11-25)","Solid (26-50)","Mid-tier (51-100)","Lower (100+)"],"y":["Grand Slam","Masters 1000","ATP 500\u002f250 (WTA 500+)"],"z":{"dtype":"f8","bdata":"vr8xsNr7P0BaVCL5mnpJQGvKmrKmbFBA0l2nw3\u002fvU0BCvEhW4ZxUQAAAAAAAAPh\u002fAAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh\u002fAAAAAAAA+H9WVVVVVdVEQAAAAAAAAERAAAAAAABAT0BJkiRJkqRTQAAAAAAAAFlA","shape":"3, 5"},"zmax":90,"zmin":30,"type":"heatmap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"WTA: Tournament Level Breakdown - Overall Performance"},"xaxis":{"title":{"text":"Opponent Tier"}},"yaxis":{"title":{"text":"Tournament Level"}},"height":400,"annotations":[{"font":{"color":"black","size":10},"showarrow":false,"text":"32%\u003cbr\u003e(247)","x":"Elite (1-10)","y":"Grand Slam"},{"font":{"color":"black","size":10},"showarrow":false,"text":"51%\u003cbr\u003e(261)","x":"Strong (11-25)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"66%\u003cbr\u003e(344)","x":"Solid (26-50)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"80%\u003cbr\u003e(543)","x":"Mid-tier (51-100)","y":"Grand Slam"},{"font":{"color":"white","size":10},"showarrow":false,"text":"82%\u003cbr\u003e(359)","x":"Lower (100+)","y":"Grand Slam"},{"font":{"color":"black","size":10},"showarrow":false,"text":"42%\u003cbr\u003e(12)","x":"Elite (1-10)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"black","size":10},"showarrow":false,"text":"40%\u003cbr\u003e(10)","x":"Strong (11-25)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"62%\u003cbr\u003e(16)","x":"Solid (26-50)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"79%\u003cbr\u003e(14)","x":"Mid-tier (51-100)","y":"ATP 500\u002f250 (WTA 500+)"},{"font":{"color":"white","size":10},"showarrow":false,"text":"100%\u003cbr\u003e(5)","x":"Lower (100+)","y":"ATP 500\u002f250 (WTA 500+)"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('86ffe469-a426-485c-bb8b-ff62b096e72c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-7-temporal-trends-performance-vs-elite-over-time" class="level2">
<h2 class="anchored" data-anchor-id="view-7-temporal-trends-performance-vs-elite-over-time">View 7: Temporal Trends (Performance vs Elite Over Time)</h2>
<p>How has each player’s performance against top 10 opponents evolved over time? Rising lines indicate improvement; falling lines suggest decline.</p>
<div id="cell-24" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_temporal_trends(records_df, title, min_matches_per_period<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create temporal trends of performance vs elite opponents"""</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter to elite opponents only</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df[records_df[<span class="st">'opponent_tier'</span>] <span class="op">==</span> <span class="st">'Elite (1-10)'</span>].copy()</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'year'</span>] <span class="op">=</span> df[<span class="st">'date'</span>].dt.year</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate yearly win rates</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    yearly_stats <span class="op">=</span> df.groupby([<span class="st">'player_name'</span>, <span class="st">'year'</span>]).agg(</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>        wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    yearly_stats[<span class="st">'win_pct'</span>] <span class="op">=</span> yearly_stats[<span class="st">'wins'</span>] <span class="op">/</span> yearly_stats[<span class="st">'matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter periods with minimum matches</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    yearly_stats <span class="op">=</span> yearly_stats[yearly_stats[<span class="st">'matches'</span>] <span class="op">&gt;=</span> min_matches_per_period]</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Only include players with multiple years of data</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    player_years <span class="op">=</span> yearly_stats.groupby(<span class="st">'player_name'</span>)[<span class="st">'year'</span>].nunique()</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    multi_year_players <span class="op">=</span> player_years[player_years <span class="op">&gt;=</span> <span class="dv">2</span>].index</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    yearly_stats <span class="op">=</span> yearly_stats[yearly_stats[<span class="st">'player_name'</span>].isin(multi_year_players)]</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(yearly_stats) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> px.line(</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>        yearly_stats,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'year'</span>,</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">'win_pct'</span>,</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">'player_name'</span>,</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>        markers<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>        hover_data<span class="op">=</span>[<span class="st">'matches'</span>],</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>            <span class="st">'year'</span>: <span class="st">'Year'</span>,</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>            <span class="st">'win_pct'</span>: <span class="st">'Win % vs Top 10'</span>,</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">'player_name'</span>: <span class="st">'Player'</span>,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>            <span class="st">'matches'</span>: <span class="st">'Matches'</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span>title</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>            orientation<span class="op">=</span><span class="st">'v'</span>,</span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span><span class="fl">1.02</span>,</span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">'top'</span>,</span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>            bgcolor<span class="op">=</span><span class="st">'rgba(255,255,255,0.8)'</span>,</span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>            bordercolor<span class="op">=</span><span class="st">'#ccc'</span>,</span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>            borderwidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a>        margin<span class="op">=</span><span class="bu">dict</span>(r<span class="op">=</span><span class="dv">150</span>),</span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a>        yaxis<span class="op">=</span><span class="bu">dict</span>(<span class="bu">range</span><span class="op">=</span>[<span class="dv">0</span>, <span class="dv">100</span>])</span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>fig_temporal_atp <span class="op">=</span> create_temporal_trends(atp_records, <span class="st">'ATP: Win Rate vs Top 10 Over Time'</span>)</span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_temporal_atp:</span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a>    fig_temporal_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="5b1c4402-dd44-4e18-9913-154e6e434c76" class="plotly-graph-div" style="height:500px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("5b1c4402-dd44-4e18-9913-154e6e434c76")) {                    Plotly.newPlot(                        "5b1c4402-dd44-4e18-9913-154e6e434c76",                        [{"customdata":{"dtype":"i1","bdata":"BgM=","shape":"2, 1"},"hovertemplate":"Player=Alejandro Tabilo\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alejandro Tabilo","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Alejandro Tabilo","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqMEAAAAAAAAAAAA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CAcEBgsQEQc=","shape":"8, 1"},"hovertemplate":"Player=Alex De Minaur\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alex De Minaur","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Alex De Minaur","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4gcAAOMHAADkBwAA5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAADbtm3btm1FQAAAAAAAADlAAAAAAAAAAABFF1100UU7QAAAAAAA4EVAamlpaWlpPUAkSZIkSZIsQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"Cg4QCgkUCBIPBw==","shape":"10, 1"},"hovertemplate":"Player=Alexander Zverev\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alexander Zverev","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Alexander Zverev","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4AcAAOEHAADiBwAA4wcAAOQHAADlBwAA5gcAAOcHAADoBwAA6QcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAREAAAAAAAABJQAAAAAAAQE9AAAAAAAAAPkCqqqqqqqpAQAAAAAAAAE5AAAAAAADAQkCO4ziO4zg2QKuqqqqqqkpA27Zt27ZtRUA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAUFCgY=","shape":"5, 1"},"hovertemplate":"Player=Alexei Popyrin\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alexei Popyrin","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Alexei Popyrin","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4wcAAOUHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAOUAAAAAAAAA0QAAAAAAAAE5AAAAAAAAATkCqqqqqqqowQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQMHCQkKDgk=","shape":"8, 1"},"hovertemplate":"Player=Andrey Rublev\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Andrey Rublev","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Andrey Rublev","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOIHAADjBwAA5AcAAOUHAADmBwAA5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAANEAAAAAAAAAAACRJkiRJkkxAjuM4juM4RkCO4ziO4zhGQAAAAAAAAElAt23btm3bQUCqqqqqqqpAQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQg=","shape":"2, 1"},"hovertemplate":"Player=Arthur Fils\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arthur Fils","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Arthur Fils","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAATkAAAAAAAMBCQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CQcF","shape":"3, 1"},"hovertemplate":"Player=Ben Shelton\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ben Shelton","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Ben Shelton","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"juM4juM4NkAkSZIkSZI8QAAAAAAAADRA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"Bw4REQsE","shape":"6, 1"},"hovertemplate":"Player=Carlos Alcaraz\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Carlos Alcaraz","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Carlos Alcaraz","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAADqBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"27Zt27ZtRUAlSZIkSRJQQC0tLS0tLVBApqWlpaWlUUB10UUXXXRUQAAAAAAAAFlA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQ0LBQsH","shape":"6, 1"},"hovertemplate":"Player=Casper Ruud\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Casper Ruud","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Casper Ruud","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5AcAAOUHAADmBwAA5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAANEA7sRM7sRM3QLrooosuukZAAAAAAAAANEDRRRdddNFPQCRJkiRJkjxA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAYQCQ8LFQ8D","shape":"9, 1"},"hovertemplate":"Player=Daniil Medvedev\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Daniil Medvedev","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Daniil Medvedev","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOIHAADjBwAA5AcAAOUHAADmBwAA5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAOUAAAAAAAAAAAAAAAAAAAElAHcdxHMdxU0CqqqqqqqpQQEUXXXTRRTtAJEmSJEmSTEAAAAAAAABEQKqqqqqqqlBA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BggHCQcDBw==","shape":"7, 1"},"hovertemplate":"Player=Frances Tiafoe\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Frances Tiafoe","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Frances Tiafoe","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOIHAADjBwAA5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqMEAAAAAAAAApQCRJkiRJkixAjuM4juM4RkAkSZIkSZI8QAAAAAAAAAAAJEmSJEmSTEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwQJDA0JCg0IBQMHCBILAw==","shape":"16, 1"},"hovertemplate":"Player=Grigor Dimitrov\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Grigor Dimitrov","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Grigor Dimitrov","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"2QcAANsHAADcBwAA3QcAAN4HAADfBwAA4AcAAOEHAADiBwAA4wcAAOQHAADlBwAA5gcAAOcHAADoBwAA6QcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAAAAAI7jOI7jOCZAAAAAAAAAOUBP7MRO7MQ+QI7jOI7jODZAAAAAAAAAREBP7MRO7MROQAAAAAAAADlAAAAAAAAARECqqqqqqqpAQCRJkiRJkjxAAAAAAAAAOUAdx3Ecx3FDQEUXXXTRRUtAAAAAAAAAAAA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"Dg4J","shape":"3, 1"},"hovertemplate":"Player=Holger Rune\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Holger Rune","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Holger Rune","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"JUmSJEkSUEC3bdu2bdtBQI7jOI7jODZA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CgoKCQY=","shape":"5, 1"},"hovertemplate":"Player=Hubert Hurkacz\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Hubert Hurkacz","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Hubert Hurkacz","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4wcAAOUHAADmBwAA5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAREAAAAAAAABEQAAAAAAAAElAjuM4juM4NkCqqqqqqqowQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQMK","shape":"3, 1"},"hovertemplate":"Player=Jack Draper\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jack Draper","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Jack Draper","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAREAAAAAAAAAAAAAAAAAAAERA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BwoMExcO","shape":"6, 1"},"hovertemplate":"Player=Jannik Sinner\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jannik Sinner","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Jannik Sinner","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5AcAAOUHAADmBwAA5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"27Zt27ZtRUAAAAAAAAA+QAAAAAAAADlAr6G8hvIaUUBZyEIWspBTQAAAAAAAAFlA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"Bw8JBQoKCAU=","shape":"8, 1"},"hovertemplate":"Player=Karen Khachanov\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Karen Khachanov","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Karen Khachanov","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOIHAADjBwAA5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"JEmSJEmSPECqqqqqqqpAQKqqqqqqqkBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADRAAAAAAADAQkAAAAAAAAA0QA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAkLCQs=","shape":"5, 1"},"hovertemplate":"Player=Lorenzo Musetti\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lorenzo Musetti","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Lorenzo Musetti","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAOUCqqqqqqqpAQC+66KKLLjJAqqqqqqqqQEBFF1100UU7QA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwkQFhsMGiIeGSQZBRQPDRIOFggDAw==","shape":"22, 1"},"hovertemplate":"Player=Novak Djokovic\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Novak Djokovic","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Novak Djokovic","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"1QcAANYHAADXBwAA2AcAANkHAADaBwAA2wcAANwHAADdBwAA3gcAAN8HAADgBwAA4QcAAOIHAADjBwAA5AcAAOUHAADmBwAA5wcAAOgHAADpBwAA6gcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqQECO4ziO4zg2QAAAAAAAwEJAAAAAAAAASUByHMdxHMdLQKqqqqqqqkBAFDuxEzsxVECmpaWlpaVRQAAAAAAAAFRAAAAAAAAAVEByHMdxHIdVQAAAAAAAAFVAAAAAAAAATkAAAAAAAMBSQAAAAAAAAE5AshM7sRM7U0Adx3Ecx3FTQEmSJEmSpFNA0UUXXXRRU0AAAAAAAMBCQKqqqqqqqlBAqqqqqqqqUEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQUFCwM=","shape":"5, 1"},"hovertemplate":"Player=Sebastian Korda\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Sebastian Korda","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Sebastian Korda","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAREAAAAAAAAA0QAAAAAAAAE5ARRdddNFFO0AAAAAAAAAAAA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"EBMGDhAJCg==","shape":"7, 1"},"hovertemplate":"Player=Stefanos Tsitsipas\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Stefanos Tsitsipas","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Stefanos Tsitsipas","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4gcAAOMHAADkBwAA5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAADAQkAN5TWU11BKQKqqqqqqqkBA27Zt27ZtRUAAAAAAAABJQI7jOI7jOCZAAAAAAAAAPkA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BA0IDQcVBw==","shape":"7, 1"},"hovertemplate":"Player=Taylor Fritz\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Taylor Fritz","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Taylor Fritz","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4AcAAOMHAADlBwAA5gcAAOcHAADoBwAA6QcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAACyEzuxEztDQAAAAAAAwEJAO7ETO7ETR0Dbtm3btm1FQA3DMAzDMEpAJEmSJEmSPEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"Aws=","shape":"2, 1"},"hovertemplate":"Player=Tomas Machac\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Tomas Machac","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Tomas Machac","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAvuuiiiy5CQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQkJCQQ=","shape":"5, 1"},"hovertemplate":"Player=Tommy Paul\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Tommy Paul","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Tommy Paul","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAANECO4ziO4zhGQI7jOI7jODZAjuM4juM4RkAAAAAAAAAAAA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAQDCAo=","shape":"5, 1"},"hovertemplate":"Player=Ugo Humbert\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ugo Humbert","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Ugo Humbert","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5AcAAOUHAADmBwAA5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAASUAAAAAAAMBSQKqqqqqqqlBAAAAAAAAAOUAAAAAAAABEQA=="},"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Win % vs Top 10"},"range":[0,100]},"legend":{"title":{"text":"Player"},"tracegroupgap":0,"font":{"size":10},"orientation":"v","x":1.02,"y":1,"xanchor":"left","yanchor":"top","bgcolor":"rgba(255,255,255,0.8)","bordercolor":"#ccc","borderwidth":1},"title":{"text":"ATP: Win Rate vs Top 10 Over Time"},"margin":{"r":150},"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5b1c4402-dd44-4e18-9913-154e6e434c76');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-25" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>fig_temporal_wta <span class="op">=</span> create_temporal_trends(wta_records, <span class="st">'WTA: Win Rate vs Top 10 Over Time'</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_temporal_wta:</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    fig_temporal_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="2a273191-7860-475f-b614-72634a9a3fee" class="plotly-graph-div" style="height:500px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("2a273191-7860-475f-b614-72634a9a3fee")) {                    Plotly.newPlot(                        "2a273191-7860-475f-b614-72634a9a3fee",                        [{"customdata":{"dtype":"i1","bdata":"BAoD","shape":"3, 1"},"hovertemplate":"Player=Anna Kalinskaya\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Anna Kalinskaya","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Anna Kalinskaya","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAOUAAAAAAAIBRQKqqqqqqqkBA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"DAgECQsPEQk=","shape":"8, 1"},"hovertemplate":"Player=Aryna Sabalenka\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Aryna Sabalenka","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Aryna Sabalenka","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4gcAAOMHAADkBwAA5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqUEAAAAAAAMBCQAAAAAAAADlAjuM4juM4RkC66KKLLrpGQKuqqqqqqkpALS0tLS0tUECqqqqqqqpQQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CwQJBw==","shape":"4, 1"},"hovertemplate":"Player=Barbora Krejcikova\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Barbora Krejcikova","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Barbora Krejcikova","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"L7rooosuQkAAAAAAAMBSQI7jOI7jOEZAJEmSJEmSTEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwMJBA==","shape":"4, 1"},"hovertemplate":"Player=Beatriz Haddad Maia\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Beatriz Haddad Maia","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Beatriz Haddad Maia","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAABZQI7jOI7jOEZAAAAAAAAASUA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwUOEQ0H","shape":"6, 1"},"hovertemplate":"Player=Coco Gauff\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Coco Gauff","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Coco Gauff","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4wcAAOUHAADmBwAA5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqQEAAAAAAAABEQNu2bdu2bTVAamlpaWlpTUDFTuzETuxKQCRJkiRJkkxA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQUEBQcICQQ=","shape":"8, 1"},"hovertemplate":"Player=Danielle Collins\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Danielle Collins","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Danielle Collins","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4gcAAOMHAADkBwAA5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAANEAAAAAAAAA0QAAAAAAAAElAAAAAAAAAREAkSZIkSZJMQAAAAAAAADlAqqqqqqqqQEAAAAAAAAA5QA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CwgNBRAIBw==","shape":"7, 1"},"hovertemplate":"Player=Daria Kasatkina\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Daria Kasatkina","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Daria Kasatkina","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4AcAAOEHAADiBwAA5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"L7rooosuMkAAAAAAAMBCQMVO7MRO7EpAAAAAAAAANEAAAAAAAMBCQAAAAAAAwEJA27Zt27ZtRUA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQkIBAQICA==","shape":"7, 1"},"hovertemplate":"Player=Donna Vekic\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Donna Vekic","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Donna Vekic","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4QcAAOIHAADjBwAA5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAANECO4ziO4zhGQAAAAAAAAClAAAAAAAAAOUAAAAAAAABJQAAAAAAAwEJAAAAAAAAAOUA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BwcGDAgHBg==","shape":"7, 1"},"hovertemplate":"Player=Elena Rybakina\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elena Rybakina","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Elena Rybakina","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5AcAAOUHAADmBwAA5wcAAOgHAADpBwAA6gcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"JEmSJEmSPEDbtm3btm1FQKqqqqqqqkBAq6qqqqoqTUAAAAAAAABJQLdt27Zt21FAVlVVVVXVVEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CQoMEAwKBAUKAw==","shape":"10, 1"},"hovertemplate":"Player=Elina Svitolina\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Elina Svitolina","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Elina Svitolina","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"3gcAAN8HAADgBwAA4QcAAOIHAADjBwAA5QcAAOcHAADoBwAA6gcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"juM4juM4NkAAAAAAAAA0QFZVVVVV1URAAAAAAAAwUUAAAAAAAMBSQAAAAAAAAERAAAAAAAAASUAAAAAAAABEQAAAAAAAADRAqqqqqqqqUEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CwM=","shape":"2, 1"},"hovertemplate":"Player=Emma Navarro\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Emma Navarro","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Emma Navarro","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"RRdddNFFO0CqqqqqqqpAQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BxEUEAQ=","shape":"5, 1"},"hovertemplate":"Player=Iga Swiatek\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Iga Swiatek","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Iga Swiatek","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"27Zt27ZtRUAPDw8PDw9WQAAAAAAAgFFAAAAAAAAwUUAAAAAAAAA5QA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwkKCA==","shape":"4, 1"},"hovertemplate":"Player=Jasmine Paolini\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jasmine Paolini","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Jasmine Paolini","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA6QcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqQECO4ziO4zg2QAAAAAAAAERAAAAAAAAAOUA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwwEBAUGBwo=","shape":"8, 1"},"hovertemplate":"Player=Jelena Ostapenko\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jelena Ostapenko","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Jelena Ostapenko","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4AcAAOEHAADiBwAA4wcAAOQHAADlBwAA5gcAAOcHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqQECqqqqqqqpAQAAAAAAAAElAAAAAAAAASUAAAAAAAABOQKqqqqqqqjBA27Zt27ZtRUAAAAAAAABEQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"DQ8OBQk=","shape":"5, 1"},"hovertemplate":"Player=Jessica Pegula\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Jessica Pegula","line":{"color":"#FFA15A","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Jessica Pegula","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAOkHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"xU7sxE7sSkAAAAAAAAA0QCVJkiRJElBAAAAAAAAARECqqqqqqqpQQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BwQMBwM=","shape":"5, 1"},"hovertemplate":"Player=Karolina Muchova\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Karolina Muchova","line":{"color":"#19d3f3","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Karolina Muchova","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"4wcAAOUHAADnBwAA6AcAAOoHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"JEmSJEmSLEAAAAAAAABZQFZVVVVV1URA27Zt27ZtRUCqqqqqqqpAQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAUE","shape":"3, 1"},"hovertemplate":"Player=Katie Boulter\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Katie Boulter","line":{"color":"#FF6692","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Katie Boulter","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAADpBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAAA0QAAAAAAAADlA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BgYFDgMHBQgJBw==","shape":"10, 1"},"hovertemplate":"Player=Madison Keys\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Madison Keys","line":{"color":"#B6E880","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Madison Keys","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"3QcAAN4HAADfBwAA4AcAAOEHAADiBwAA4wcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"qqqqqqqqMECqqqqqqqpAQAAAAAAAADRA27Zt27ZtRUCqqqqqqqpQQNu2bdu2bUVAAAAAAAAAREAAAAAAAMBCQI7jOI7jOEZAJEmSJEmSPEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"AwQH","shape":"3, 1"},"hovertemplate":"Player=Magdalena Frech\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Magdalena Frech","line":{"color":"#FF97FF","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Magdalena Frech","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA"},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAAAAAAAAAAACRJkiRJkixA"},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQkLAw==","shape":"4, 1"},"hovertemplate":"Player=Marta Kostyuk\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Marta Kostyuk","line":{"color":"#FECB52","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Marta Kostyuk","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA6gcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAACqqqqqqqpAQEUXXXTRRUtAqqqqqqqqUEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BAc=","shape":"2, 1"},"hovertemplate":"Player=Mirra Andreeva\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Mirra Andreeva","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Mirra Andreeva","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAAAAkSZIkSZJMQA=="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CwQJCQ==","shape":"4, 1"},"hovertemplate":"Player=Paula Badosa\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Paula Badosa","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Paula Badosa","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5QcAAOYHAADnBwAA6AcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"RRdddNFFS0AAAAAAAABJQKqqqqqqqkBAjuM4juM4NkA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"BQkNAw==","shape":"4, 1"},"hovertemplate":"Player=Qinwen Zheng\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Qinwen Zheng","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Qinwen Zheng","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"5gcAAOcHAADoBwAA6QcAAA=="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAARECqqqqqqqpAQLITO7ETO0NAqqqqqqqqQEA="},"yaxis":"y","type":"scatter"},{"customdata":{"dtype":"i1","bdata":"CAoODRAdEQMMBQUKBAYHBAs=","shape":"17, 1"},"hovertemplate":"Player=Victoria Azarenka\u003cbr\u003eYear=%{x}\u003cbr\u003eWin % vs Top 10=%{y}\u003cbr\u003eMatches=%{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Victoria Azarenka","line":{"color":"#ab63fa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines+markers","name":"Victoria Azarenka","orientation":"v","showlegend":true,"x":{"dtype":"i4","bdata":"1wcAANgHAADZBwAA2gcAANsHAADcBwAA3QcAAN4HAADfBwAA4AcAAOIHAADjBwAA5AcAAOUHAADmBwAA5wcAAOgHAAA="},"xaxis":"x","y":{"dtype":"f8","bdata":"AAAAAAAAOUAAAAAAAAA+QNu2bdu2bUVAxU7sxE7sSkAAAAAAAABJQKgRlnsaYVBAamlpaWlpTUAAAAAAAAAAAFZVVVVV1URAAAAAAAAAVEAAAAAAAAA0QAAAAAAAAD5AAAAAAADAUkCqqqqqqqowQNu2bdu2bUVAAAAAAAAASUC66KKLLrpGQA=="},"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Year"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Win % vs Top 10"},"range":[0,100]},"legend":{"title":{"text":"Player"},"tracegroupgap":0,"font":{"size":10},"orientation":"v","x":1.02,"y":1,"xanchor":"left","yanchor":"top","bgcolor":"rgba(255,255,255,0.8)","bordercolor":"#ccc","borderwidth":1},"title":{"text":"WTA: Win Rate vs Top 10 Over Time"},"margin":{"r":150},"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2a273191-7860-475f-b614-72634a9a3fee');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="view-8-head-to-head-deep-dive" class="level2">
<h2 class="anchored" data-anchor-id="view-8-head-to-head-deep-dive">View 8: Head-to-Head Deep Dive</h2>
<p>Detailed records against specific top opponents, not just tiers. Filter to show rivalries with 3+ matches and see surface breakdown within each H2H.</p>
<div id="cell-27" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_h2h_matrix(matches_df, player_ids, player_names, title, min_matches<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create head-to-head matrix between top 25 players"""</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Build H2H records</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    h2h_records <span class="op">=</span> {}</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _, row <span class="kw">in</span> matches_df.iterrows():</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        winner_id <span class="op">=</span> row[<span class="st">'winner_id'</span>]</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        loser_id <span class="op">=</span> row[<span class="st">'loser_id'</span>]</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Only count matches between top 25 players</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> winner_id <span class="kw">in</span> player_ids <span class="kw">and</span> loser_id <span class="kw">in</span> player_ids:</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>            winner_name <span class="op">=</span> player_names.get(winner_id, row[<span class="st">'winner_name'</span>])</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>            loser_name <span class="op">=</span> player_names.get(loser_id, row[<span class="st">'loser_name'</span>])</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>            key <span class="op">=</span> <span class="bu">tuple</span>(<span class="bu">sorted</span>([winner_name, loser_name]))</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> key <span class="kw">not</span> <span class="kw">in</span> h2h_records:</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>                h2h_records[key] <span class="op">=</span> {<span class="st">'player1'</span>: key[<span class="dv">0</span>], <span class="st">'player2'</span>: key[<span class="dv">1</span>],</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">'p1_wins'</span>: <span class="dv">0</span>, <span class="st">'p2_wins'</span>: <span class="dv">0</span>,</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">'hard_p1'</span>: <span class="dv">0</span>, <span class="st">'hard_p2'</span>: <span class="dv">0</span>,</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">'clay_p1'</span>: <span class="dv">0</span>, <span class="st">'clay_p2'</span>: <span class="dv">0</span>,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">'grass_p1'</span>: <span class="dv">0</span>, <span class="st">'grass_p2'</span>: <span class="dv">0</span>}</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>            surface <span class="op">=</span> row[<span class="st">'surface'</span>].lower() <span class="cf">if</span> pd.notna(row[<span class="st">'surface'</span>]) <span class="cf">else</span> <span class="st">'other'</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> winner_name <span class="op">==</span> key[<span class="dv">0</span>]:</span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>                h2h_records[key][<span class="st">'p1_wins'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> surface <span class="op">==</span> <span class="st">'hard'</span>:</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'hard_p1'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>                <span class="cf">elif</span> surface <span class="op">==</span> <span class="st">'clay'</span>:</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'clay_p1'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>                <span class="cf">elif</span> surface <span class="op">==</span> <span class="st">'grass'</span>:</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'grass_p1'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>                h2h_records[key][<span class="st">'p2_wins'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> surface <span class="op">==</span> <span class="st">'hard'</span>:</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'hard_p2'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>                <span class="cf">elif</span> surface <span class="op">==</span> <span class="st">'clay'</span>:</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'clay_p2'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>                <span class="cf">elif</span> surface <span class="op">==</span> <span class="st">'grass'</span>:</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>                    h2h_records[key][<span class="st">'grass_p2'</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>    h2h_df <span class="op">=</span> pd.DataFrame(h2h_records.values())</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'total_matches'</span>] <span class="op">=</span> h2h_df[<span class="st">'p1_wins'</span>] <span class="op">+</span> h2h_df[<span class="st">'p2_wins'</span>]</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>    h2h_df <span class="op">=</span> h2h_df[h2h_df[<span class="st">'total_matches'</span>] <span class="op">&gt;=</span> min_matches]</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>    h2h_df <span class="op">=</span> h2h_df.sort_values(<span class="st">'total_matches'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(h2h_df) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create display strings</span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'h2h'</span>] <span class="op">=</span> h2h_df.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"</span><span class="sc">{</span>x[<span class="st">'p1_wins'</span>]<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>x[<span class="st">'p2_wins'</span>]<span class="sc">}</span><span class="ss">"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'hard'</span>] <span class="op">=</span> h2h_df.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"</span><span class="sc">{</span>x[<span class="st">'hard_p1'</span>]<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>x[<span class="st">'hard_p2'</span>]<span class="sc">}</span><span class="ss">"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'clay'</span>] <span class="op">=</span> h2h_df.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"</span><span class="sc">{</span>x[<span class="st">'clay_p1'</span>]<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>x[<span class="st">'clay_p2'</span>]<span class="sc">}</span><span class="ss">"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'grass'</span>] <span class="op">=</span> h2h_df.<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"</span><span class="sc">{</span>x[<span class="st">'grass_p1'</span>]<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>x[<span class="st">'grass_p2'</span>]<span class="sc">}</span><span class="ss">"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>    h2h_df[<span class="st">'matchup'</span>] <span class="op">=</span> h2h_df[<span class="st">'player1'</span>] <span class="op">+</span> <span class="st">' vs '</span> <span class="op">+</span> h2h_df[<span class="st">'player2'</span>]</span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create table</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>        header<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[<span class="st">'Matchup'</span>, <span class="st">'H2H'</span>, <span class="st">'Hard'</span>, <span class="st">'Clay'</span>, <span class="st">'Grass'</span>, <span class="st">'Total'</span>],</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>            fill_color<span class="op">=</span><span class="st">'#1f77b4'</span>,</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'white'</span>, size<span class="op">=</span><span class="dv">12</span>),</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>            align<span class="op">=</span><span class="st">'left'</span></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>        cells<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[</span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'matchup'</span>],</span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'h2h'</span>],</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'hard'</span>],</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'clay'</span>],</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'grass'</span>],</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>                h2h_df[<span class="st">'total_matches'</span>]</span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>            ],</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>            fill_color<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>            align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>            height<span class="op">=</span><span class="dv">30</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>    )])</span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="ss">f"</span><span class="sc">{</span>title<span class="sc">}</span><span class="ss"> (Minimum </span><span class="sc">{</span>min_matches<span class="sc">}</span><span class="ss"> matches)"</span>,</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="bu">max</span>(<span class="dv">400</span>, <span class="bu">len</span>(h2h_df) <span class="op">*</span> <span class="dv">35</span> <span class="op">+</span> <span class="dv">100</span>)</span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a>fig_h2h_atp <span class="op">=</span> create_h2h_matrix(atp_matches, atp_player_ids, atp_player_names, </span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a>                                <span class="st">'ATP: Head-to-Head Records Among Top 25'</span>)</span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_h2h_atp:</span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a>    fig_h2h_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="52dca2cf-67dd-4d80-aa8c-f9c883f90b58" class="plotly-graph-div" style="height:6120px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("52dca2cf-67dd-4d80-aa8c-f9c883f90b58")) {                    Plotly.newPlot(                        "52dca2cf-67dd-4d80-aa8c-f9c883f90b58",                        [{"cells":{"align":"left","fill":{"color":"white"},"height":30,"values":[["Alexander Zverev vs Daniil Medvedev","Alexander Zverev vs Stefanos Tsitsipas","Daniil Medvedev vs Jannik Sinner","Daniil Medvedev vs Novak Djokovic","Novak Djokovic vs Stefanos Tsitsipas","Daniil Medvedev vs Stefanos Tsitsipas","Grigor Dimitrov vs Novak Djokovic","Alex De Minaur vs Jannik Sinner","Alexander Zverev vs Novak Djokovic","Daniil Medvedev vs Grigor Dimitrov","Alexander Zverev vs Taylor Fritz","Alexander Zverev vs Carlos Alcaraz","Alex De Minaur vs Stefanos Tsitsipas","Alex De Minaur vs Daniil Medvedev","Andrey Rublev vs Stefanos Tsitsipas","Novak Djokovic vs Taylor Fritz","Alex De Minaur vs Taylor Fritz","Carlos Alcaraz vs Jannik Sinner","Alex De Minaur vs Alexander Zverev","Karen Khachanov vs Stefanos Tsitsipas","Karen Khachanov vs Novak Djokovic","Alexander Zverev vs Andrey Rublev","Hubert Hurkacz vs Stefanos Tsitsipas","Lorenzo Musetti vs Novak Djokovic","Carlos Alcaraz vs Novak Djokovic","Andrey Rublev vs Daniil Medvedev","Jannik Sinner vs Stefanos Tsitsipas","Alexander Zverev vs Jannik Sinner","Andrey Rublev vs Jannik Sinner","Alexander Zverev vs Grigor Dimitrov","Jannik Sinner vs Novak Djokovic","Alexander Zverev vs Frances Tiafoe","Alexander Zverev vs Karen Khachanov","Grigor Dimitrov vs Stefanos Tsitsipas","Andrey Rublev vs Casper Ruud","Alex De Minaur vs Ugo Humbert","Ben Shelton vs Jannik Sinner","Carlos Alcaraz vs Daniil Medvedev","Andrey Rublev vs Taylor Fritz","Andrey Rublev vs Grigor Dimitrov","Frances Tiafoe vs Taylor Fritz","Alex De Minaur vs Andrey Rublev","Carlos Alcaraz vs Casper Ruud","Alexander Zverev vs Casper Ruud","Lorenzo Musetti vs Stefanos Tsitsipas","Casper Ruud vs Holger Rune","Carlos Alcaraz vs Stefanos Tsitsipas","Casper Ruud vs Novak Djokovic","Daniil Medvedev vs Karen Khachanov","Alex De Minaur vs Tommy Paul","Daniil Medvedev vs Frances Tiafoe","Lorenzo Musetti vs Taylor Fritz","Carlos Alcaraz vs Tommy Paul","Carlos Alcaraz vs Lorenzo Musetti","Alex De Minaur vs Grigor Dimitrov","Hubert Hurkacz vs Novak Djokovic","Alexander Zverev vs Lorenzo Musetti","Frances Tiafoe vs Stefanos Tsitsipas","Frances Tiafoe vs Hubert Hurkacz","Frances Tiafoe vs Lorenzo Musetti","Andrey Rublev vs Tommy Paul","Karen Khachanov vs Sebastian Korda","Sebastian Korda vs Tommy Paul","Daniil Medvedev vs Hubert Hurkacz","Holger Rune vs Novak Djokovic","Grigor Dimitrov vs Karen Khachanov","Andrey Rublev vs Ugo Humbert","Hubert Hurkacz vs Jack Draper","Frances Tiafoe vs Sebastian Korda","Grigor Dimitrov vs Jannik Sinner","Grigor Dimitrov vs Hubert Hurkacz","Stefanos Tsitsipas vs Taylor Fritz","Andrey Rublev vs Novak Djokovic","Carlos Alcaraz vs Sebastian Korda","Jack Draper vs Tommy Paul","Hubert Hurkacz vs Lorenzo Musetti","Alex De Minaur vs Holger Rune","Alex De Minaur vs Carlos Alcaraz","Lorenzo Musetti vs Sebastian Korda","Holger Rune vs Ugo Humbert","Alexei Popyrin vs Hubert Hurkacz","Hubert Hurkacz vs Ugo Humbert","Carlos Alcaraz vs Grigor Dimitrov","Taylor Fritz vs Tommy Paul","Ben Shelton vs Tommy Paul","Alex De Minaur vs Jack Draper","Jannik Sinner vs Taylor Fritz","Casper Ruud vs Hubert Hurkacz","Carlos Alcaraz vs Taylor Fritz","Casper Ruud vs Stefanos Tsitsipas","Daniil Medvedev vs Sebastian Korda","Andrey Rublev vs Sebastian Korda","Jannik Sinner vs Karen Khachanov","Hubert Hurkacz vs Taylor Fritz","Hubert Hurkacz vs Jannik Sinner","Frances Tiafoe vs Grigor Dimitrov","Alexei Popyrin vs Karen Khachanov","Casper Ruud vs Ugo Humbert","Andrey Rublev vs Karen Khachanov","Andrey Rublev vs Hubert Hurkacz","Hubert Hurkacz vs Sebastian Korda","Frances Tiafoe vs Jannik Sinner","Alexander Zverev vs Hubert Hurkacz","Casper Ruud vs Jannik Sinner","Casper Ruud vs Tommy Paul","Ben Shelton vs Lorenzo Musetti","Alexei Popyrin vs Novak Djokovic","Jannik Sinner vs Tommy Paul","Alexander Zverev vs Holger Rune","Grigor Dimitrov vs Holger Rune","Sebastian Korda vs Taylor Fritz","Grigor Dimitrov vs Ugo Humbert","Alexei Popyrin vs Daniil Medvedev","Carlos Alcaraz vs Karen Khachanov","Jack Draper vs Taylor Fritz","Carlos Alcaraz vs Hubert Hurkacz","Alex De Minaur vs Novak Djokovic","Jack Draper vs Karen Khachanov","Holger Rune vs Jannik Sinner","Alex De Minaur vs Alexei Popyrin","Casper Ruud vs Taylor Fritz","Alexander Zverev vs Arthur Fils","Alexei Popyrin vs Tomas Machac","Casper Ruud vs Daniil Medvedev","Casper Ruud vs Karen Khachanov","Daniil Medvedev vs Tommy Paul","Jack Draper vs Tomas Machac","Alex De Minaur vs Sebastian Korda","Alexei Popyrin vs Grigor Dimitrov","Stefanos Tsitsipas vs Ugo Humbert","Andrey Rublev vs Frances Tiafoe","Daniil Medvedev vs Ugo Humbert","Alex De Minaur vs Karen Khachanov","Hubert Hurkacz vs Tommy Paul","Frances Tiafoe vs Tommy Paul","Arthur Fils vs Ugo Humbert","Daniil Medvedev vs Holger Rune","Holger Rune vs Taylor Fritz","Casper Ruud vs Lorenzo Musetti","Arthur Fils vs Holger Rune","Andrey Rublev vs Carlos Alcaraz","Alexei Popyrin vs Andrey Rublev","Frances Tiafoe vs Karen Khachanov","Alejandro Tabilo vs Grigor Dimitrov","Ben Shelton vs Frances Tiafoe","Tommy Paul vs Ugo Humbert","Carlos Alcaraz vs Ugo Humbert","Jack Draper vs Lorenzo Musetti","Alexei Popyrin vs Jannik Sinner","Andrey Rublev vs Holger Rune","Alejandro Tabilo vs Taylor Fritz","Grigor Dimitrov vs Lorenzo Musetti","Alexander Zverev vs Ugo Humbert","Jannik Sinner vs Sebastian Korda","Jannik Sinner vs Lorenzo Musetti","Andrey Rublev vs Lorenzo Musetti","Taylor Fritz vs Ugo Humbert","Carlos Alcaraz vs Holger Rune","Grigor Dimitrov vs Tommy Paul","Alex De Minaur vs Lorenzo Musetti","Frances Tiafoe vs Ugo Humbert","Alex De Minaur vs Frances Tiafoe","Andrey Rublev vs Jack Draper","Carlos Alcaraz vs Frances Tiafoe","Holger Rune vs Stefanos Tsitsipas","Stefanos Tsitsipas vs Tommy Paul","Grigor Dimitrov vs Taylor Fritz","Grigor Dimitrov vs Sebastian Korda","Ben Shelton vs Casper Ruud","Alexander Zverev vs Alexei Popyrin","Carlos Alcaraz vs Jack Draper","Alexei Popyrin vs Frances Tiafoe"],["8-12","6-10","7-8","5-10","12-2","10-4","1-13","1-11","4-8","9-3","5-7","6-6","1-11","3-8","5-6","11-0","6-5","6-5","2-8","1-9","1-9","7-3","3-7","1-9","5-4","2-7","3-6","4-5","3-6","7-2","4-5","8-1","6-3","2-6","5-3","5-3","1-7","6-2","4-4","4-4","1-7","4-4","7-1","5-2","2-5","6-1","7-0","2-5","5-2","7-0","6-1","4-3","5-2","6-1","5-2","0-7","3-3","3-3","3-3","3-3","5-1","3-3","4-2","3-3","2-4","5-1","4-2","4-2","3-3","1-5","6-0","4-2","1-5","4-1","3-2","3-2","2-3","0-5","3-2","4-1","1-4","3-2","3-2","3-2","3-2","4-1","4-1","4-1","4-1","3-2","3-2","5-0","4-1","2-3","2-3","2-3","1-4","2-3","2-3","2-3","4-1","1-4","3-2","0-5","3-2","1-3","1-3","3-1","3-1","2-2","1-3","3-1","1-3","4-0","2-2","4-0","1-3","2-2","2-2","3-1","3-1","3-1","2-2","0-4","3-1","3-1","2-2","3-1","2-2","1-3","1-3","1-3","2-2","2-2","1-3","1-3","2-1","1-2","1-2","2-1","1-2","2-1","0-3","0-3","2-1","3-0","2-1","3-0","1-2","2-1","0-3","2-1","2-1","2-1","2-1","2-1","2-1","2-1","1-2","1-2","2-1","2-1","3-0","2-1","3-0","3-0","1-2","1-2","1-2","3-0","2-1","0-3"],["8-10","5-5","6-8","4-9","6-2","8-3","0-9","1-10","3-7","8-2","2-6","5-3","1-8","2-8","4-3","8-0","6-4","5-3","2-6","1-6","1-5","6-2","3-7","0-4","2-2","2-7","2-2","3-4","2-4","5-2","4-2","6-1","5-3","2-2","1-3","2-3","1-6","4-1","2-4","4-4","1-7","4-3","6-1","4-1","0-1","1-0","2-0","0-2","5-1","5-0","6-1","1-2","3-2","3-0","3-2","0-3","1-2","2-3","3-3","2-2","3-1","2-2","2-1","3-1","1-3","5-1","4-1","1-2","2-2","0-3","4-0","4-1","0-4","1-0","3-1","0-1","1-3","0-3","1-2","4-1","1-3","2-2","1-2","3-2","3-2","3-1","4-1","1-1","4-1","1-1","2-2","5-0","3-1","2-1","2-1","2-2","1-4","0-2","0-1","2-2","4-1","1-4","2-1","0-5","2-2","1-2","1-2","2-0","2-0","2-0","1-1","3-1","1-2","1-0","1-0","3-0","1-1","2-2","1-1","2-1","2-1","1-0","2-2","0-3","2-1","2-0","2-1","2-0","2-2","1-3","1-3","1-2","2-2","1-1","1-3","1-2","1-0","1-2","0-2","1-0","0-2","1-1","0-1","0-2","1-1","3-0","1-1","3-0","0-2","1-1","0-1","2-1","2-0","1-1","1-0","1-0","2-1","1-1","1-2","1-1","2-1","2-1","2-0","1-0","2-0","2-0","0-0","1-1","1-1","2-0","2-0","0-3"],["0-2","1-5","0-0","1-0","6-0","2-1","1-2","0-1","1-1","0-0","1-0","1-3","0-3","1-0","1-3","3-0","0-0","1-1","0-2","0-3","0-3","1-1","0-0","1-4","1-2","0-0","1-4","1-1","1-2","2-0","0-1","1-0","1-0","0-4","4-0","2-0","0-0","0-0","2-0","0-0","0-0","0-1","1-0","1-1","2-4","5-1","5-0","2-3","0-1","1-0","0-0","2-0","1-0","3-1","2-0","0-2","2-1","0-0","0-0","0-1","2-0","0-0","1-0","0-0","1-0","0-0","0-0","3-0","1-0","1-1","2-0","0-1","1-0","2-1","0-0","1-1","0-0","0-1","2-0","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-0","3-0","0-0","2-1","1-0","0-0","1-0","0-1","0-1","0-0","0-0","2-0","1-1","0-1","0-0","0-0","1-0","0-0","1-0","0-0","0-0","1-0","1-1","0-1","0-2","0-0","0-0","3-0","0-2","1-0","0-1","0-0","1-1","1-0","1-0","1-1","0-0","0-0","1-0","1-1","0-1","0-0","0-0","0-0","0-0","0-1","0-0","1-1","0-0","0-0","1-1","0-0","1-0","1-1","1-0","1-0","0-0","0-1","1-0","0-0","0-0","0-0","1-0","1-0","0-1","0-0","0-0","1-0","1-1","1-1","0-0","0-0","0-0","0-0","0-0","0-0","1-0","0-1","1-0","1-0","1-2","0-0","0-1","1-0","0-0","0-0"],["0-0","0-0","1-0","0-1","0-0","0-0","0-2","0-0","0-0","1-1","2-1","0-0","0-0","0-0","0-0","0-0","0-1","0-1","0-0","0-0","0-1","0-0","0-0","0-1","2-0","0-0","0-0","0-0","0-0","0-0","0-2","1-0","0-0","0-0","0-0","1-0","0-1","2-1","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","1-0","0-0","1-1","1-0","0-0","0-0","0-2","0-0","1-0","0-0","1-0","0-0","1-1","1-1","0-2","0-1","0-0","0-1","0-0","0-1","0-1","0-0","0-0","0-1","1-0","0-1","2-0","1-0","0-1","0-0","0-0","0-1","1-0","1-0","0-0","0-0","1-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-1","0-1","0-1","0-0","0-1","1-1","0-0","0-0","0-0","0-1","0-0","0-0","0-1","0-1","0-1","0-0","0-1","0-0","0-0","0-1","0-0","1-0","0-0","0-1","0-0","0-0","0-0","0-0","1-0","0-0","0-1","0-0","0-0","0-0","1-1","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-1","0-0","0-0","0-0","0-0","0-0","0-0","0-2","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-1","0-0","0-1","0-0","0-0","0-0","0-0","1-0","0-0","0-1","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-1","0-0","0-0","0-1","0-0"],[20,16,15,15,14,14,14,12,12,12,12,12,12,11,11,11,11,11,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]},"header":{"align":"left","fill":{"color":"#1f77b4"},"font":{"color":"white","size":12},"values":["Matchup","H2H","Hard","Clay","Grass","Total"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"ATP: Head-to-Head Records Among Top 25 (Minimum 3 matches)"},"height":6120},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('52dca2cf-67dd-4d80-aa8c-f9c883f90b58');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-28" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>fig_h2h_wta <span class="op">=</span> create_h2h_matrix(wta_matches, wta_player_ids, wta_player_names,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">'WTA: Head-to-Head Records Among Top 25'</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> fig_h2h_wta:</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    fig_h2h_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="6c4114e0-3ed2-4d06-8d4f-83b0f3e3d0ee" class="plotly-graph-div" style="height:5000px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("6c4114e0-3ed2-4d06-8d4f-83b0f3e3d0ee")) {                    Plotly.newPlot(                        "6c4114e0-3ed2-4d06-8d4f-83b0f3e3d0ee",                        [{"cells":{"align":"left","fill":{"color":"white"},"height":30,"values":[["Coco Gauff vs Iga Swiatek","Aryna Sabalenka vs Elena Rybakina","Aryna Sabalenka vs Iga Swiatek","Daria Kasatkina vs Madison Keys","Aryna Sabalenka vs Coco Gauff","Iga Swiatek vs Jessica Pegula","Danielle Collins vs Iga Swiatek","Aryna Sabalenka vs Jessica Pegula","Aryna Sabalenka vs Daria Kasatkina","Elena Rybakina vs Iga Swiatek","Daria Kasatkina vs Elina Svitolina","Coco Gauff vs Jessica Pegula","Daria Kasatkina vs Paula Badosa","Daria Kasatkina vs Iga Swiatek","Aryna Sabalenka vs Barbora Krejcikova","Daria Kasatkina vs Marta Kostyuk","Aryna Sabalenka vs Qinwen Zheng","Jessica Pegula vs Victoria Azarenka","Aryna Sabalenka vs Paula Badosa","Elina Svitolina vs Victoria Azarenka","Diana Shnaider vs Paula Badosa","Elena Rybakina vs Jasmine Paolini","Daria Kasatkina vs Jelena Ostapenko","Iga Swiatek vs Qinwen Zheng","Barbora Krejcikova vs Iga Swiatek","Barbora Krejcikova vs Jelena Ostapenko","Coco Gauff vs Paula Badosa","Aryna Sabalenka vs Victoria Azarenka","Aryna Sabalenka vs Madison Keys","Elina Svitolina vs Jessica Pegula","Elena Rybakina vs Paula Badosa","Aryna Sabalenka vs Danielle Collins","Iga Swiatek vs Madison Keys","Aryna Sabalenka vs Elina Svitolina","Madison Keys vs Victoria Azarenka","Beatriz Haddad Maia vs Daria Kasatkina","Daria Kasatkina vs Elena Rybakina","Jelena Ostapenko vs Paula Badosa","Jessica Pegula vs Paula Badosa","Barbora Krejcikova vs Daria Kasatkina","Aryna Sabalenka vs Jasmine Paolini","Jelena Ostapenko vs Madison Keys","Jasmine Paolini vs Jessica Pegula","Danielle Collins vs Elena Rybakina","Elina Svitolina vs Madison Keys","Elena Rybakina vs Elina Svitolina","Elena Rybakina vs Marta Kostyuk","Beatriz Haddad Maia vs Katie Boulter","Daria Kasatkina vs Jasmine Paolini","Coco Gauff vs Madison Keys","Aryna Sabalenka vs Karolina Muchova","Elena Rybakina vs Victoria Azarenka","Elena Rybakina vs Jelena Ostapenko","Elena Rybakina vs Madison Keys","Anna Kalinskaya vs Elena Rybakina","Jelena Ostapenko vs Victoria Azarenka","Aryna Sabalenka vs Donna Vekic","Jasmine Paolini vs Katie Boulter","Iga Swiatek vs Jasmine Paolini","Danielle Collins vs Jessica Pegula","Beatriz Haddad Maia vs Karolina Muchova","Beatriz Haddad Maia vs Iga Swiatek","Marta Kostyuk vs Paula Badosa","Elena Rybakina vs Jessica Pegula","Beatriz Haddad Maia vs Magdalena Frech","Anna Kalinskaya vs Jasmine Paolini","Coco Gauff vs Marta Kostyuk","Jessica Pegula vs Karolina Muchova","Donna Vekic vs Qinwen Zheng","Coco Gauff vs Katie Boulter","Barbora Krejcikova vs Mirra Andreeva","Donna Vekic vs Iga Swiatek","Jelena Ostapenko vs Jessica Pegula","Daria Kasatkina vs Victoria Azarenka","Elina Svitolina vs Jelena Ostapenko","Beatriz Haddad Maia vs Jelena Ostapenko","Danielle Collins vs Jelena Ostapenko","Danielle Collins vs Daria Kasatkina","Anna Kalinskaya vs Daria Kasatkina","Aryna Sabalenka vs Katie Boulter","Anna Kalinskaya vs Iga Swiatek","Donna Vekic vs Victoria Azarenka","Beatriz Haddad Maia vs Madison Keys","Coco Gauff vs Jelena Ostapenko","Iga Swiatek vs Jelena Ostapenko","Coco Gauff vs Jasmine Paolini","Emma Navarro vs Jasmine Paolini","Daria Kasatkina vs Jessica Pegula","Jasmine Paolini vs Qinwen Zheng","Emma Navarro vs Magdalena Frech","Coco Gauff vs Elina Svitolina","Iga Swiatek vs Victoria Azarenka","Coco Gauff vs Karolina Muchova","Jasmine Paolini vs Madison Keys","Anna Kalinskaya vs Danielle Collins","Aryna Sabalenka vs Mirra Andreeva","Barbora Krejcikova vs Jessica Pegula","Beatriz Haddad Maia vs Elena Rybakina","Coco Gauff vs Qinwen Zheng","Katie Boulter vs Magdalena Frech","Beatriz Haddad Maia vs Emma Navarro","Jasmine Paolini vs Mirra Andreeva","Aryna Sabalenka vs Emma Navarro","Emma Navarro vs Madison Keys","Anna Kalinskaya vs Jelena Ostapenko","Coco Gauff vs Emma Navarro","Jasmine Paolini vs Magdalena Frech","Anna Kalinskaya vs Victoria Azarenka","Donna Vekic vs Elina Svitolina","Karolina Muchova vs Paula Badosa","Beatriz Haddad Maia vs Paula Badosa","Danielle Collins vs Magdalena Frech","Donna Vekic vs Madison Keys","Danielle Collins vs Madison Keys","Danielle Collins vs Victoria Azarenka","Anna Kalinskaya vs Aryna Sabalenka","Daria Kasatkina vs Magdalena Frech","Coco Gauff vs Daria Kasatkina","Iga Swiatek vs Karolina Muchova","Aryna Sabalenka vs Jelena Ostapenko","Danielle Collins vs Elina Svitolina","Karolina Muchova vs Victoria Azarenka","Barbora Krejcikova vs Victoria Azarenka","Barbora Krejcikova vs Elena Rybakina","Barbora Krejcikova vs Paula Badosa","Elina Svitolina vs Iga Swiatek","Barbora Krejcikova vs Elina Svitolina","Iga Swiatek vs Marta Kostyuk","Iga Swiatek vs Paula Badosa","Donna Vekic vs Elena Rybakina","Paula Badosa vs Victoria Azarenka","Donna Vekic vs Jasmine Paolini","Aryna Sabalenka vs Marta Kostyuk","Karolina Muchova vs Qinwen Zheng","Barbora Krejcikova vs Marta Kostyuk","Magdalena Frech vs Qinwen Zheng","Elena Rybakina vs Qinwen Zheng","Jessica Pegula vs Marta Kostyuk","Jelena Ostapenko vs Qinwen Zheng","Diana Shnaider vs Emma Navarro"],["3-11","7-6","4-8","2-9","5-5","6-4","2-8","7-3","7-2","6-2","0-8","3-5","4-3","1-6","6-1","4-3","6-1","4-3","5-2","2-5","2-5","3-4","2-5","6-1","2-4","3-3","3-3","5-1","5-1","2-4","3-3","6-0","5-1","5-1","2-4","3-2","2-3","3-2","4-1","3-2","4-1","2-3","1-4","2-3","2-3","3-2","3-2","1-4","2-3","2-3","2-3","4-1","3-2","3-2","1-4","0-5","2-3","3-1","3-1","0-4","0-4","1-3","2-2","1-3","3-1","1-3","3-1","3-1","1-3","3-1","1-3","0-4","2-2","0-4","2-2","0-4","2-2","2-2","1-3","4-0","1-3","3-1","2-2","3-1","0-4","4-0","3-1","2-2","0-4","2-2","2-2","3-1","4-0","2-1","0-3","2-1","2-1","2-1","3-0","2-1","3-0","1-2","2-1","2-1","3-0","1-2","2-1","2-1","0-3","1-2","1-2","3-0","1-2","1-2","2-1","1-2","3-0","0-3","2-1","3-0","2-1","1-2","1-2","3-0","0-3","1-2","3-0","3-0","2-1","1-2","1-2","1-2","3-0","2-1","1-2","1-2","2-1","2-1","0-3","2-1"],["3-6","5-6","3-3","1-8","5-4","5-4","1-6","4-3","4-2","4-2","0-6","2-4","3-1","0-5","5-1","2-2","5-0","2-2","1-2","1-4","1-2","1-3","1-1","4-0","2-3","2-1","2-2","5-1","4-0","1-4","2-2","4-0","2-1","3-0","1-3","3-1","2-3","2-1","3-1","3-2","4-1","1-1","1-3","2-3","2-3","0-1","2-2","1-3","0-0","2-1","2-2","4-0","2-1","3-1","0-2","0-4","2-3","2-1","2-1","0-2","0-4","1-1","1-1","1-3","1-1","1-3","3-0","3-1","1-2","3-1","1-2","0-3","2-2","0-0","2-1","0-4","1-2","1-1","1-2","3-0","1-3","3-1","2-1","3-1","0-3","4-0","3-0","1-1","0-3","2-2","2-2","2-1","4-0","1-1","0-2","0-0","2-1","1-0","1-0","1-1","0-0","0-1","1-1","1-0","3-0","1-1","2-0","0-1","0-1","0-0","1-2","3-0","1-0","1-1","1-1","0-2","2-0","0-2","1-0","2-0","2-0","1-2","1-2","2-0","0-2","0-1","1-0","2-0","2-1","0-2","1-2","1-1","2-0","1-0","1-0","0-1","1-1","2-1","0-3","1-0"],["0-5","1-0","1-5","1-0","0-1","1-0","1-1","3-0","2-0","2-0","0-2","0-0","1-1","0-1","1-0","0-1","1-1","2-0","4-0","0-1","0-3","2-1","1-1","2-1","0-1","0-1","1-1","0-0","0-0","1-0","1-1","2-0","3-0","2-1","1-1","0-1","0-0","1-1","1-0","0-0","0-0","0-1","0-1","0-0","0-0","1-1","1-0","0-0","1-3","0-1","0-1","0-0","1-0","0-1","1-1","0-1","0-0","0-0","1-0","0-2","0-0","0-2","0-1","0-0","0-0","0-0","0-1","0-0","0-1","0-0","0-0","0-1","0-0","0-3","0-0","0-0","1-0","1-1","0-1","0-0","0-0","0-0","0-1","0-0","0-0","0-0","0-0","1-1","0-1","0-0","0-0","1-0","0-0","0-0","0-1","2-1","0-0","1-0","2-0","0-0","2-0","1-1","1-0","1-1","0-0","0-0","0-1","1-0","0-1","0-1","0-0","0-0","0-2","0-1","1-0","0-0","1-0","0-1","1-1","1-0","0-1","0-0","0-0","0-0","0-1","0-1","2-0","1-0","0-0","0-0","0-0","0-0","1-0","1-1","0-1","0-1","0-0","0-0","0-0","0-0"],["0-0","1-0","0-0","0-1","0-0","0-0","0-1","0-0","1-0","0-0","0-0","1-1","0-1","1-0","0-0","2-0","0-0","0-1","0-0","1-0","1-0","0-0","0-3","0-0","0-0","1-1","0-0","0-0","1-1","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","1-1","0-0","0-0","0-0","2-0","0-0","0-1","1-0","0-1","0-0","0-1","0-1","0-0","0-1","0-0","0-0","1-0","0-0","0-0","0-0","0-0","1-0","0-0","2-0","0-0","0-0","0-0","0-0","0-0","0-1","0-0","0-0","0-1","0-1","0-0","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-0","0-1","0-0","0-1","0-0","0-0","0-0","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-1","0-0","1-0","1-0","0-0","0-0","0-0","0-0","0-1","0-0","1-0","0-1","1-1","0-0","0-0","0-0","0-0","0-0","1-0","0-0","0-0","0-0","0-0","0-0","0-0","0-0","1-0","0-0","1-0","0-0","0-0","0-0","1-0","0-0","0-1","0-0","0-0","0-1","1-0","1-0","0-0","0-0","1-1"],[14,13,12,11,10,10,10,10,9,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]},"header":{"align":"left","fill":{"color":"#1f77b4"},"font":{"color":"white","size":12},"values":["Matchup","H2H","Hard","Clay","Grass","Total"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"WTA: Head-to-Head Records Among Top 25 (Minimum 3 matches)"},"height":5000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6c4114e0-3ed2-4d06-8d4f-83b0f3e3d0ee');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="summary-statistics">Summary Statistics</h2>
<p>Key metrics for each player summarizing their opponent quality performance.</p>
<div id="cell-30" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> create_summary_table(records_df, title):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Create summary statistics table"""</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> records_df.copy()</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Overall stats</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    overall <span class="op">=</span> df.groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        total_matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        total_wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        avg_opp_rank<span class="op">=</span>(<span class="st">'opponent_rank'</span>, <span class="st">'mean'</span>)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    overall[<span class="st">'overall_win_pct'</span>] <span class="op">=</span> (overall[<span class="st">'total_wins'</span>] <span class="op">/</span> overall[<span class="st">'total_matches'</span>] <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    overall[<span class="st">'avg_opp_rank'</span>] <span class="op">=</span> overall[<span class="st">'avg_opp_rank'</span>].<span class="bu">round</span>(<span class="dv">0</span>)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Elite performance</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>    elite <span class="op">=</span> df[df[<span class="st">'opponent_tier'</span>] <span class="op">==</span> <span class="st">'Elite (1-10)'</span>].groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>        elite_matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>),</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>        elite_wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>)</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    elite[<span class="st">'elite_win_pct'</span>] <span class="op">=</span> (elite[<span class="st">'elite_wins'</span>] <span class="op">/</span> elite[<span class="st">'elite_matches'</span>] <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Merge</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> overall.merge(elite, on<span class="op">=</span><span class="st">'player_name'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>    summary[<span class="st">'elite_win_pct'</span>] <span class="op">=</span> summary[<span class="st">'elite_win_pct'</span>].fillna(<span class="dv">0</span>)</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>    summary[<span class="st">'elite_matches'</span>] <span class="op">=</span> summary[<span class="st">'elite_matches'</span>].fillna(<span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate drop-off (lower tier win% - elite win%)</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>    lower <span class="op">=</span> df[df[<span class="st">'opponent_tier'</span>] <span class="op">==</span> <span class="st">'Lower (100+)'</span>].groupby(<span class="st">'player_name'</span>).agg(</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        lower_wins<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'sum'</span>),</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>        lower_matches<span class="op">=</span>(<span class="st">'won'</span>, <span class="st">'count'</span>)</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    ).reset_index()</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>    lower[<span class="st">'lower_win_pct'</span>] <span class="op">=</span> lower[<span class="st">'lower_wins'</span>] <span class="op">/</span> lower[<span class="st">'lower_matches'</span>] <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> summary.merge(lower[[<span class="st">'player_name'</span>, <span class="st">'lower_win_pct'</span>]], on<span class="op">=</span><span class="st">'player_name'</span>, how<span class="op">=</span><span class="st">'left'</span>)</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>    summary[<span class="st">'dropoff'</span>] <span class="op">=</span> (summary[<span class="st">'lower_win_pct'</span>] <span class="op">-</span> summary[<span class="st">'elite_win_pct'</span>]).<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>    summary <span class="op">=</span> summary.sort_values(<span class="st">'elite_win_pct'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create table</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>    fig <span class="op">=</span> go.Figure(data<span class="op">=</span>[go.Table(</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>        header<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[<span class="st">'Player'</span>, <span class="st">'Matches'</span>, <span class="st">'Win %'</span>, <span class="st">'Avg Opp Rank'</span>, <span class="st">'vs Elite'</span>, <span class="st">'Elite Win %'</span>, <span class="st">'Drop-off'</span>],</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>            fill_color<span class="op">=</span><span class="st">'#1f77b4'</span>,</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'white'</span>, size<span class="op">=</span><span class="dv">11</span>),</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>            align<span class="op">=</span><span class="st">'left'</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>        cells<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>            values<span class="op">=</span>[</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'player_name'</span>],</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'total_matches'</span>],</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'overall_win_pct'</span>].astype(<span class="bu">str</span>) <span class="op">+</span> <span class="st">'%'</span>,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'avg_opp_rank'</span>].astype(<span class="bu">int</span>),</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'elite_matches'</span>].astype(<span class="bu">str</span>) <span class="op">+</span> <span class="st">' matches'</span>,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'elite_win_pct'</span>].astype(<span class="bu">str</span>) <span class="op">+</span> <span class="st">'%'</span>,</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>                summary[<span class="st">'dropoff'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="ss">f"+</span><span class="sc">{</span>x<span class="sc">:.0f}</span><span class="ss">%"</span> <span class="cf">if</span> pd.notna(x) <span class="cf">else</span> <span class="st">'N/A'</span>)</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>            ],</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>            fill_color<span class="op">=</span>[[<span class="st">'white'</span>, <span class="st">'#f0f0f0'</span>] <span class="op">*</span> (<span class="bu">len</span>(summary) <span class="op">//</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span>)][:<span class="bu">len</span>(summary)],</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>            align<span class="op">=</span><span class="st">'left'</span>,</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>            height<span class="op">=</span><span class="dv">28</span></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>    )])</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>    fig.update_layout(</span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span>title,</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="bu">max</span>(<span class="dv">400</span>, <span class="bu">len</span>(summary) <span class="op">*</span> <span class="dv">32</span> <span class="op">+</span> <span class="dv">100</span>)</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fig</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>fig_summary_atp <span class="op">=</span> create_summary_table(atp_records, <span class="st">'ATP: Player Summary Statistics'</span>)</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>fig_summary_atp.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="d972282b-fc9b-491c-8779-dc2906c7ca4b" class="plotly-graph-div" style="height:900px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("d972282b-fc9b-491c-8779-dc2906c7ca4b")) {                    Plotly.newPlot(                        "d972282b-fc9b-491c-8779-dc2906c7ca4b",                        [{"cells":{"align":"left","fill":{"color":[["white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0"]]},"height":28,"values":[["Novak Djokovic","Carlos Alcaraz","Jannik Sinner","Daniil Medvedev","Ugo Humbert","Arthur Fils","Alexander Zverev","Holger Rune","Stefanos Tsitsipas","Taylor Fritz","Andrey Rublev","Alexei Popyrin","Casper Ruud","Hubert Hurkacz","Grigor Dimitrov","Jack Draper","Sebastian Korda","Tommy Paul","Lorenzo Musetti","Ben Shelton","Frances Tiafoe","Alex De Minaur","Tomas Machac","Karen Khachanov","Alejandro Tabilo"],[1386,294,379,562,290,123,690,250,535,501,542,231,424,375,779,146,224,322,279,147,421,443,111,506,131],["83.6%","79.9%","77.3%","71.5%","54.1%","56.1%","70.0%","62.8%","67.5%","59.5%","64.8%","41.1%","64.4%","61.1%","61.4%","60.3%","57.6%","58.1%","54.8%","55.8%","52.7%","61.2%","51.4%","57.7%","51.9%"],[49,52,57,55,64,68,57,74,59,70,58,66,77,74,66,54,67,77,66,70,76,69,88,65,90],["386 matches","70 matches","88 matches","100 matches","32 matches","13 matches","131 matches","38 matches","93 matches","80 matches","69 matches","32 matches","56 matches","50 matches","136 matches","20 matches","30 matches","42 matches","46 matches","23 matches","50 matches","79 matches","17 matches","72 matches","10 matches"],["68.9%","68.6%","62.5%","49.0%","46.9%","46.2%","43.5%","42.1%","39.8%","38.8%","37.7%","37.5%","35.7%","34.0%","32.4%","30.0%","30.0%","28.6%","28.3%","26.1%","26.0%","25.3%","23.5%","22.2%","10.0%"],["+22%","+17%","+23%","+32%","+22%","+15%","+43%","+30%","+42%","+36%","+42%","+21%","+42%","+49%","+44%","+45%","+34%","+47%","+40%","+46%","+38%","+52%","+30%","+60%","+67%"]]},"header":{"align":"left","fill":{"color":"#1f77b4"},"font":{"color":"white","size":11},"values":["Player","Matches","Win %","Avg Opp Rank","vs Elite","Elite Win %","Drop-off"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"ATP: Player Summary Statistics"},"height":900},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d972282b-fc9b-491c-8779-dc2906c7ca4b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<div id="cell-31" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>fig_summary_wta <span class="op">=</span> create_summary_table(wta_records, <span class="st">'WTA: Player Summary Statistics'</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>fig_summary_wta.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.1.min.js" integrity="sha256-HUEFyfiTnZJxCxur99FjbKYTvKSzwDaD3/x5TqHpFu4=" crossorigin="anonymous"></script>                <div id="a3db2a95-4dc1-4272-9eb0-4039574b12d2" class="plotly-graph-div" style="height:900px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("a3db2a95-4dc1-4272-9eb0-4039574b12d2")) {                    Plotly.newPlot(                        "a3db2a95-4dc1-4272-9eb0-4039574b12d2",                        [{"cells":{"align":"left","fill":{"color":[["white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0","white","#f0f0f0"]]},"height":28,"values":[["Iga Swiatek","Elena Rybakina","Aryna Sabalenka","Beatriz Haddad Maia","Coco Gauff","Victoria Azarenka","Anna Kalinskaya","Jessica Pegula","Elina Svitolina","Barbora Krejcikova","Karolina Muchova","Jelena Ostapenko","Qinwen Zheng","Daria Kasatkina","Madison Keys","Paula Badosa","Danielle Collins","Marta Kostyuk","Emma Navarro","Mirra Andreeva","Jasmine Paolini","Donna Vekic","Katie Boulter","Diana Shnaider","Magdalena Frech"],[360,349,469,283,311,869,203,343,624,255,211,484,188,511,518,260,293,204,130,92,266,463,169,111,170],["80.3%","69.9%","71.4%","56.9%","71.1%","69.2%","50.2%","66.8%","64.9%","60.8%","62.6%","58.3%","64.9%","59.9%","61.4%","62.3%","60.4%","54.4%","57.7%","66.3%","54.1%","52.9%","55.0%","63.1%","40.0%"],[60,64,58,87,57,55,71,67,68,68,64,82,57,63,64,66,68,66,83,68,76,82,90,92,97],["70 matches","56 matches","88 matches","25 matches","61 matches","176 matches","24 matches","60 matches","96 matches","37 matches","38 matches","55 matches","30 matches","71 matches","78 matches","37 matches","48 matches","33 matches","16 matches","13 matches","33 matches","56 matches","19 matches","10 matches","19 matches"],["65.7%","53.6%","53.4%","48.0%","47.5%","46.6%","45.8%","45.0%","43.8%","40.5%","39.5%","38.2%","36.7%","36.6%","35.9%","35.1%","33.3%","33.3%","31.2%","30.8%","27.3%","26.8%","21.1%","10.0%","5.3%"],["+29%","+37%","+32%","+22%","+43%","+35%","+8%","+32%","+37%","+33%","+32%","+31%","+44%","+42%","+39%","+28%","+52%","+42%","+40%","+44%","+44%","+43%","+50%","+73%","+56%"]]},"header":{"align":"left","fill":{"color":"#1f77b4"},"font":{"color":"white","size":11},"values":["Player","Matches","Win %","Avg Opp Rank","vs Elite","Elite Win %","Drop-off"]},"type":"table"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"text":"WTA: Player Summary Statistics"},"height":900},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a3db2a95-4dc1-4272-9eb0-4039574b12d2');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="key-insights" class="level2">
<h2 class="anchored" data-anchor-id="key-insights">Key Insights</h2>
<p>This analysis reveals several patterns in how players perform against different quality opponents:</p>
<ol type="1">
<li><strong>Elite Beaters</strong>: Players with relatively flat drop-off lines maintain strong performance regardless of opponent quality</li>
<li><strong>Stat Padders</strong>: Large drop-offs between lower-tier and elite performance may indicate inflated records against weaker opponents</li>
<li><strong>Surface Specialists</strong>: Some players show dramatically different performance by surface when facing top opponents</li>
<li><strong>Big Stage Performers</strong>: Tournament-level breakdown reveals who rises to the occasion at Grand Slams vs smaller events</li>
<li><strong>Trajectory</strong>: Temporal trends show which players are improving or declining against elite competition</li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script>
  window.addEventListener('scroll', function() {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > 50) {
      navbar.classList.add('scrolled');
    } else {
      navbar.classList.remove('scrolled');
    }
  });
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/azaidi06\.github\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Ali Zaidi</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Powered by Quarto</p>
</div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>